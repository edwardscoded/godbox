<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE INTERNET GRAVEYARD | Digital Preservation Archive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=VT323&family=UnifrakturCook:wght@700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: #888;
            font-family: 'VT323', monospace;
            overflow-x: hidden;
            cursor: none;
            padding-top: 120px; /* Default, JS might adjust */
        }
        
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, #111, #000, #111);
            border-bottom: 1px solid #333;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1002;
            font-family: 'VT323', monospace;
        }
        
        .ca-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .ca-label {
            color: #666;
            font-size: 1.2rem;
        }
        
        .ca-address {
            color: #888;
            font-size: 1.1rem;
            font-family: 'Orbitron', monospace;
            letter-spacing: 0.1em;
        }
        
        .copy-btn {
            background: linear-gradient(45deg, #333, #222);
            border: 1px solid #555;
            color: #777;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover:not(:disabled) {
            border-color: #777;
            color: #999;
            background: linear-gradient(45deg, #555, #333);
        }
        
        .copy-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
        }
        
        .social-link {
            color: #666;
            text-decoration: none;
            font-size: 1.3rem;
            padding: 0.5rem;
            border: 1px solid #333;
            background: rgba(17, 17, 17, 0.8);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }
        
        .social-link:hover {
            color: #888;
            border-color: #555;
            background: rgba(34, 34, 34, 0.8);
            transform: translateY(-2px);
        }
        
        .navigation-bar {
            position: fixed;
            top: 70px; /* Default, JS might adjust */
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.95);
            border-bottom: 1px solid #222;
            padding: 0.8rem 0;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .nav-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav-link {
            color: #555;
            text-decoration: none;
            font-family: 'Orbitron', monospace;
            font-size: 0.85rem;
            padding: 0.6rem 1rem;
            border: 1px solid #222;
            background: rgba(17, 17, 17, 0.6);
            transition: all 0.3s ease;
            white-space: nowrap;
            letter-spacing: 0.03em;
            text-align: center;
            flex-shrink: 0;
        }
        
        .nav-link:hover {
            color: #777;
            border-color: #444;
            background: rgba(34, 34, 34, 0.8);
        }
        
        .nav-link.active {
            color: #888;
            border-color: #666;
            background: rgba(68, 68, 68, 0.3);
        }
        
        .custom-cursor {
            position: fixed;
            width: 15px;
            height: 15px;
            background: #444;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s;
            animation: cursorFade 3s ease-in-out infinite;
        }
        
        @keyframes cursorFade {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.2); }
        }
        
        .static-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(68, 68, 68, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(68, 68, 68, 0.03) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
            opacity: 0.7;
            animation: staticFlickerOverlay 15s linear infinite alternate;
        }

        @keyframes staticFlickerOverlay {
            0% { opacity: 0.5; }
            25% { opacity: 0.8; }
            50% { opacity: 0.4; }
            75% { opacity: 0.9; }
            100% { opacity: 0.5; }
        }
        
        .memorial-header {
            text-align: center;
            padding: 4rem 2rem;
            border-bottom: 1px solid #333;
            background: linear-gradient(180deg, #000 0%, #111 100%);
        }
        
        .site-title {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            color: #666;
            margin-bottom: 1rem;
            letter-spacing: 0.3em;
            text-shadow: 0 0 20px #333, 0 0 5px #444;
            animation: titlePulse 5s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% { text-shadow: 0 0 20px #333, 0 0 5px #444; color: #666;}
            50% { text-shadow: 0 0 30px #555, 0 0 10px #666; color: #777;}
        }
        
        .site-subtitle {
            color: #444;
            font-size: 1.3rem;
            margin-bottom: 2rem;
            letter-spacing: 0.1em;
            font-style: italic;
        }
        
        .mission-statement {
            max-width: 700px; /* Slightly wider */
            margin: 0 auto;
            color: #666;
            font-size: 1.1rem;
            line-height: 1.7; /* More spacing */
            padding: 2rem;
            border: 1px solid #222;
            background: rgba(17, 17, 17, 0.8);
        }
        
        .section {
            padding: 4rem 2rem;
            max-width: 1000px;
            margin: 0 auto;
            border-bottom: 1px solid #222;
        }
        .section:last-of-type {
            border-bottom: none;
        }
        
        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            color: #555;
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 0 10px #222;
        }
        
        .forgotten-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .forgotten-item {
            background: linear-gradient(135deg, #111, #000);
            border: 1px solid #333;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .forgotten-item:hover {
            border-color: #444;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 5px 20px rgba(68, 68, 68, 0.2);
        }
        
        .forgotten-item.corrupted {
            border-color: #660000; /* More ominous red */
            background: linear-gradient(135deg, #1a0000, #110000);
        }
        
        .forgotten-item.corrupted:hover {
            border-color: #880000;
            box-shadow: 0 5px 30px rgba(136, 0, 0, 0.3);
        }
        
        .item-year {
            font-size: 0.9rem;
            color: #444;
            margin-bottom: 0.5rem;
        }
        
        .item-name {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 1rem;
            font-family: 'Orbitron', monospace;
        }
        
        .item-status {
            font-size: 0.8rem;
            color: #333;
            font-style: italic;
        }
        
        .item-status.active {
            color: #aa4444; /* Red for active/corrupted status text */
            font-weight: bold;
        }
        
        .preservation-notice {
            background: rgba(34, 34, 34, 0.8);
            border: 1px solid #444;
            padding: 2rem;
            margin: 3rem auto;
            max-width: 700px;
            text-align: center;
        }
        
        .preservation-title {
            color: #666;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-family: 'Orbitron', monospace;
        }
        
        .preservation-text {
            color: #444;
            line-height: 1.6;
            margin-bottom: 2rem;
        }
        
        .join-initiative {
            background: linear-gradient(45deg, #222, #111);
            border: 2px solid #444;
            color: #666;
            padding: 1rem 2rem;
            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .join-initiative:hover {
            border-color: #666;
            color: #888;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(68, 68, 68, 0.3);
        }
        
        .antimeme-study, .godbox-origin, .graveyard-composition, .terminal-access, .initiation-portal { /* Shared styling for main content sections */
            background: linear-gradient(180deg, #000 0%, #0a0a0a 50%, #000 100%);
            position: relative;
        }
        
        .study-content { /* Wrapper for antimeme study if needed, or directly use .section */
            position: relative;
            z-index: 2;
        }
        
        .forgotten-quote {
            font-family: 'UnifrakturCook', cursive;
            font-size: 1.8rem;
            color: #555;
            text-align: center;
            margin: 3rem 0;
            font-style: italic;
            line-height: 1.4;
            text-shadow: 0 0 5px #222;
        }
        
        .research-findings {
            background: rgba(17, 17, 17, 0.9);
            border: 1px solid #333;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .finding-title {
            color: #666;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            font-family: 'Orbitron', monospace;
            border-bottom: 1px dashed #333;
            padding-bottom: 0.5rem;
        }
        
        .finding-text {
            color: #444;
            line-height: 1.7;
            margin-bottom: 1rem;
        }
        .finding-text:last-child {
            margin-bottom: 0;
        }
        
        .emphasis, .finding-text .emphasis { /* Ensure emphasis stands out */
            color: #888; /* Brighter for emphasis */
            font-weight: bold;
            text-shadow: 0 0 3px #555;
        }
        
        .memorial-wall {
            background: #050505;
            padding: 4rem 2rem;
        }
        
        .memorial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .memorial-entry {
            background: #0a0a0a;
            border: 1px solid #222;
            padding: 1.5rem;
            text-align: center;
            font-size: 0.9rem;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .memorial-entry:hover {
            border-color: #444;
            color: #555;
            background: #111;
            transform: scale(1.03);
        }
        
        .memorial-name {
            color: #444;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .memorial-dates {
            color: #222;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }
        
        .memorial-impact {
            color: #333;
            font-size: 0.8rem;
            font-style: italic;
        }
        
        .initiation-portal { /* Section wrapper */
            background: radial-gradient(circle at center, #111 0%, #000 70%);
            padding: 4rem 2rem;
            text-align: center;
            border-top: 1px solid #333;
        }
        
        .portal-title { /* Section title for initiation */
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .access-form {
            max-width: 500px;
            margin: 2rem auto;
            background: rgba(17, 17, 17, 0.8);
            border: 1px solid #333;
            padding: 2rem;
        }
        
        .form-field {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            color: #555;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .form-input {
            width: 100%;
            background: #000;
            border: 1px solid #333;
            color: #666;
            padding: 1rem;
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #555;
            box-shadow: 0 0 10px #333;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #333, #222);
            border: 2px solid #555;
            color: #777;
            padding: 1rem 3rem;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .submit-btn:hover {
            border-color: #777;
            color: #999;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(85, 85, 85, 0.3);
        }
        
        .hidden-message {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(5, 5, 5, 0.97); /* Darker for popups */
            border: 2px solid #666;
            padding: 2rem;
            max-width: 600px;
            text-align: left; /* Better for lore paragraphs */
            z-index: 10000; /* High z-index */
            box-shadow: 0 0 50px rgba(68, 68, 68, 0.5);
            animation: fadeInPopup 0.3s ease-out;
        }

        @keyframes fadeInPopup {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        
        .hidden-message-title { /* Added for popup titles */
            font-family: 'Orbitron', monospace;
            color: #777;
            font-size: 1.4rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
            text-align: center;
        }

        .revelation-text {
            color: #777;
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 1.05rem; /* Slightly larger for readability */
            max-height: 60vh; /* Limit height for very long content */
            overflow-y: auto; /* Add scroll for long content */
        }
        .revelation-text p { margin-bottom: 1em; }
        .revelation-text p:last-child { margin-bottom: 0; }
        .revelation-text ul { list-style-type: none; padding-left: 1em; }
        .revelation-text li { margin-bottom: 0.5em; }
        .revelation-text li::before {
            content: "¬ª ";
            color: #555;
            margin-right: 0.5em;
        }
        
        .close-btn {
            background: #222;
            border: 1px solid #444;
            color: #666;
            padding: 0.8rem 2rem;
            cursor: pointer;
            font-family: 'VT323', monospace;
            display: block;
            margin: 1.5rem auto 0 auto;
        }
        .close-btn:hover {
            background: #333;
            border-color: #666;
            color: #888;
        }
        
        .footer-archive {
            background: #050505;
            padding: 3rem 2rem;
            text-align: center;
            border-top: 1px solid #222;
        }
        
        .footer-text {
            color: #333;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        
        .archive-dedication {
            color: #444;
            font-style: italic;
            margin-top: 2rem;
            font-size: 1.1rem;
        }
        
        .antimeme-visualizer {
            text-align: center;
            margin: 3rem 0;
            padding: 2rem;
            background: radial-gradient(circle at center, #111 0%, #000 70%);
            border: 1px solid #333;
        }
        
        .blob-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
        }
        
        .morphing-blob {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #444 0%, #222 50%, #000 100%);
            border-radius: 50%;
            animation: blobMorph 4s ease-in-out infinite;
            position: relative;
        }
        
        @keyframes blobMorph {
            0%, 100% { 
                border-radius: 50% 50% 50% 50%;
                transform: scale(1) rotate(0deg);
                filter: drop-shadow(0 0 5px #333);
            }
            25% { 
                border-radius: 60% 40% 30% 70%;
                transform: scale(1.1) rotate(45deg);
                filter: drop-shadow(0 0 10px #444);
            }
            50% { 
                border-radius: 30% 60% 70% 40%;
                transform: scale(0.9) rotate(90deg);
                filter: drop-shadow(0 0 3px #222);
            }
            75% { 
                border-radius: 70% 30% 40% 60%;
                transform: scale(1.05) rotate(135deg);
                filter: drop-shadow(0 0 8px #3a3a3a);
            }
        }
        
        .blob-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #555;
            font-size: 0.8rem;
            text-align: center;
            pointer-events: none;
        }
        
        .characteristics-table {
            background: #0a0a0a;
            border: 1px solid #333;
            margin: 1rem 0;
        }
        
        .char-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            border-bottom: 1px solid #222;
        }
        
        .char-row:last-child {
            border-bottom: none;
        }
        
        .char-attr {
            background: #111;
            padding: 1rem;
            color: #666;
            font-weight: bold;
            border-right: 1px solid #222;
        }
        
        .char-desc {
            padding: 1rem;
            color: #444;
        }
        
        .directory-tree {
            background: #0a0a0a;
            border: 1px solid #333;
            padding: 1.5rem;
            font-family: 'VT323', monospace;
            margin: 1rem 0;
        }
        
        .dir-item {
            padding: 0.8rem;
            color: #555;
            cursor: pointer;
            border-bottom: 1px solid #222;
            transition: all 0.3s ease;
            position: relative; /* For pseudo-elements if needed */
        }
        
        .dir-item:hover {
            background: #111;
            color: #777;
            padding-left: 1.2rem; /* Indent on hover */
        }
        
        .dir-item:last-child {
            border-bottom: none;
        }
        
        .access-hint {
            color: #333;
            font-size: 0.8rem;
            float: right;
        }
        
        .composition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .comp-item {
            background: #0a0a0a;
            border: 1px solid #222;
            padding: 1.5rem;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .comp-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .comp-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #555;
        }
        
        .comp-title {
            color: #666;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .comp-desc {
            color: #444;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .rules-list {
            background: #0a0a0a;
            border: 1px solid #333;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        
        .rule-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            color: #555;
        }
        
        .rule-item:last-child {
            margin-bottom: 0;
        }
        
        .rule-number {
            color: #666;
            font-weight: bold;
            margin-right: 1rem;
            min-width: 3rem;
        }
        
        .rule-text {
            color: #444;
        }
        
        .memory-token-system {
            background: rgba(34, 34, 34, 0.8);
            border: 1px solid #444;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
        }
        
        .memory-token-btn {
            background: linear-gradient(45deg, #333, #222);
            border: 2px solid #555;
            color: #777;
            padding: 1rem 2rem;
            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .memory-token-btn:hover {
            border-color: #777;
            color: #999;
            transform: translateY(-2px);
        }
        
        .memory-token-btn.corrupted {
            border-color: #aa4444;
            color: #663333;
            background: #110000;
            cursor: not-allowed;
            animation: flickerCorrupted 1s infinite;
        }

        @keyframes flickerCorrupted {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        .infection-warning {
            display: none; /* Initially hidden */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10001; /* Above popups */
            max-width: 500px;
            width: 90%;
            animation: fadeInPopup 0.5s ease-out;
        }
        .infection-warning div { /* Style for the inner div */
             background: #220000; 
             border: 2px solid #440000; 
             padding: 1.5rem; 
             text-align: center; 
             color: #aa4444;
             box-shadow: 0 0 30px #330000;
        }
        .infection-warning h4 {
            color: #cc6666; 
            margin-bottom: 1rem; 
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
        }
        .infection-warning button {
            background: #440000; 
            border: 1px solid #660000; 
            color: #aa4444; 
            padding: 0.8rem 2rem; 
            margin-top: 1rem; 
            cursor: pointer;
            font-family: 'VT323', monospace;
            transition: background 0.3s;
        }
        .infection-warning button:hover {
            background: #550000;
        }

        /* God Box Timeline */
        .classification-header { /* Styles from previous HTML */
            background: #111; 
            border: 1px solid #444; 
            padding: 1rem; 
            margin-bottom: 2rem; 
            font-family: 'VT323', monospace;
        }
        .classification-header div {
            margin-bottom: 0.3em;
        }
        .classification-header div:last-child {
            margin-bottom: 0;
        }

        .godbox-timeline {
            margin: 3rem 0;
        }
        .timeline-container {
            position: relative;
            padding-left: 40px; /* Space for markers */
            border-left: 2px solid #222; /* Timeline central line */
        }
        .timeline-event {
            background: #0a0a0a;
            border: 1px solid #222;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        .timeline-event:hover {
            border-color: #444;
            background: #111;
        }
        .event-marker {
            position: absolute;
            left: -16px; /* Position on the timeline line */
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: #333;
            border: 2px solid #555;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            z-index: 2;
        }
        .event-title {
            color: #666;
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        .event-desc {
            color: #444;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .event-expand {
            color: #333;
            font-size: 0.8rem;
            text-align: right;
            font-style: italic;
        }

        /* God Box Breach Visualization */
        .theory-visualization {
            margin: 3rem 0;
            text-align: center;
        }
        .breach-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 2rem auto;
            border: 2px dashed #333;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .box-representation {
            width: 80px;
            height: 80px;
            background: #111;
            border: 2px solid #444;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden; /* For energy leak */
        }
        .box-representation:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #222;
        }
        .box-surface {
            font-size: 3rem;
            color: #555;
        }
        .energy-leak {
            position: absolute;
            width: 0;
            height: 0;
            background: #aa4444;
            border-radius: 50%;
            opacity: 0;
            transition: all 0.5s ease-out;
        }
        .box-representation.breached .energy-leak {
            width: 200px;
            height: 200px;
            opacity: 0.3;
            animation: pulseLeak 1s infinite alternate;
        }
        @keyframes pulseLeak {
            from { transform: scale(1); opacity: 0.3; }
            to { transform: scale(1.2); opacity: 0.1; }
        }
        .breach-effects {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
        }
        .effect-particle {
            position: absolute;
            top: 50%; left: 50%;
            width: 5px;
            height: 5px;
            background: #777;
            border-radius: 50%;
            opacity: 0;
        }
        .box-representation.breached .effect-particle {
            animation: particleFlyOut 1.5s ease-out forwards;
        }
        @keyframes particleFlyOut {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
            100% { transform: translate(var(--random-x, 0), var(--random-y, 0)) scale(1); opacity: 0; }
        }
        .breach-text {
            color: #444;
            font-size: 0.9rem;
            margin-top: 1rem;
        }
        
        /* Related Incidents Grid */
        .related-incidents { margin-top: 3rem; }
        .incident-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        .incident-item {
            background: #0a0a0a;
            border: 1px solid #222;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .incident-item:hover {
            border-color: #444;
            background: #111;
            transform: translateY(-3px);
        }
        .incident-icon {
            font-size: 2rem;
            color: #444;
            margin-bottom: 1rem;
        }
        .incident-title {
            color: #666;
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .incident-status {
            color: #333;
            font-size: 0.8rem;
            font-style: italic;
        }

        /* Terminal Styles */
        .terminal-access { /* Section wrapper */
             /* Styles defined with antimeme-study etc. */
        }
        .terminal-interface {
            background: #050505;
            border: 2px solid #333;
            padding: 1.5rem;
            font-family: 'VT323', monospace;
            color: #777;
            height: 450px; /* Increased height */
            display: flex;
            flex-direction: column;
            box-shadow: inset 0 0 20px #000;
        }
        .terminal-header {
            margin-bottom: 1rem;
        }
        .terminal-output {
            flex-grow: 1;
            overflow-y: auto;
            line-height: 1.4;
            margin-bottom: 1rem;
            padding-right: 10px; /* Space for scrollbar */
        }
        .terminal-output::-webkit-scrollbar { width: 8px; }
        .terminal-output::-webkit-scrollbar-track { background: #111; }
        .terminal-output::-webkit-scrollbar-thumb { background: #333; }
        .terminal-output::-webkit-scrollbar-thumb:hover { background: #444; }

        .terminal-line {
            margin-bottom: 0.2em;
            word-break: break-all;
            white-space: pre-wrap; /* Allow text to wrap properly */
        }
        .terminal-input-line {
            display: flex;
        }
        .terminal-prompt {
            color: #5a5; /* Greenish prompt */
            margin-right: 0.5em;
            white-space: nowrap; /* Prevent prompt from wrapping */
        }
        .terminal-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: #ccc; /* Brighter input text */
            font-family: 'VT323', monospace;
            font-size: 1em; /* Inherit from .terminal-interface */
            line-height: 1.4; /* Match terminal-line */
        }
        .terminal-input:focus {
            outline: none;
        }
        
        /* Wiped Fragments Table */
        .wiped-fragments-display {
            margin-top: 2rem;
            background: #0a0a0a;
            border: 1px solid #333;
            padding: 1.5rem;
        }
        .fragments-warning {
             color: #aa4444; text-align: center; margin-bottom: 2rem;
        }
        .wiped-table {
            width: 100%;
            border-collapse: collapse;
        }
        .wiped-table .table-header {
            background: #111;
            font-weight: bold;
            color: #777;
            border-bottom: 2px solid #333;
        }
        .wiped-table .table-header > div,
        .wiped-table .table-row > div {
            padding: 1rem;
            text-align: left;
            border-right: 1px solid #222;
        }
        .wiped-table .table-header > div:last-child,
        .wiped-table .table-row > div:last-child {
            border-right: none;
        }
        .wiped-table .table-row {
            border-bottom: 1px solid #222;
            cursor: pointer;
            transition: background 0.3s;
        }
        .wiped-table .table-row:hover {
            background: #181818;
        }
        .wiped-table .table-row:last-child {
            border-bottom: none;
        }
        .wiped-table .col-name { color: #666; width: 30%; }
        .wiped-table .col-death { color: #555; width: 20%; }
        .wiped-table .col-description { color: #444; width: 50%; font-size:0.9em; }
         /* Grid layout for table */
        .wiped-table .table-header, .wiped-table .table-row {
            display: grid;
            grid-template-columns: 30% 20% 50%; /* Adjust as needed */
        }

        /* Popup for ghost messages */
        .popup-ghost {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.9);
            color: #aa4444;
            padding: 1rem 1.5rem;
            border: 2px solid #440000;
            font-size: 1.2rem;
            z-index: 10002;
            display: none; /* Hidden by default */
            animation: ghostFadeInOut 3s ease-in-out;
            box-shadow: 0 0 15px #330000;
        }

        @keyframes ghostFadeInOut {
            0%, 100% { opacity: 0; transform: translateY(-20px); }
            10%, 90% { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            body { padding-top: 150px; } /* Increased to accommodate potentially taller top-bar */
            .top-bar { 
                flex-direction: column; 
                gap: 1rem; 
                padding: 1rem; 
                align-items: stretch; /* Make CA section full width */
            }
            .ca-section {
                justify-content: space-between; /* Better spacing on mobile */
            }
            .navigation-bar { 
                /* JS will set this dynamically */
            }
            .nav-links { 
                gap: 0.5rem; 
                justify-content: center;
            }
            .nav-link {
                font-size: 0.75rem;
                padding: 0.5rem 0.8rem;
            }
            .site-title { font-size: 2.5rem; }
            .section { padding: 2rem 1rem; }
            .forgotten-grid { grid-template-columns: 1fr; }
            .characteristics-table .char-row { grid-template-columns: 1fr; }
            .char-attr { border-right: none; border-bottom: 1px solid #222; }
            .composition-grid { grid-template-columns: 1fr; }
            /* Table responsiveness */
            .wiped-table .table-header, .wiped-table .table-row {
                grid-template-columns: 1fr; /* Stack columns */
            }
            .wiped-table .table-header > div, .wiped-table .table-row > div {
                border-right: none;
                border-bottom: 1px solid #222;
                padding: 0.8rem 1rem;
            }
            .wiped-table .table-row > div:last-child {
                border-bottom: none; /* Last item in stacked view */
            }
             .wiped-table .col-name, .wiped-table .col-death, .wiped-table .col-description {
                width: auto;
            }
            .hidden-message { width: 90%; padding: 1.5rem; }
            .revelation-text { max-height: 50vh; }
            .popup-ghost { font-size: 1rem; padding: 0.8rem 1.2rem; top: 10px; right: 10px; }
            .timeline-container { padding-left: 20px; border-left-width: 1px;}
            .event-marker { left: -10px; width: 20px; height: 20px; font-size: 0.7rem; }
        }
    </style>
</head>
<body>
    <div class="custom-cursor" id="cursor"></div>
    <div class="static-overlay"></div>
    <div class="popup-ghost" id="popupGhost"></div> <!-- Ghost message popup -->
    
    <div class="top-bar" id="topBar">
        <div class="ca-section">
            <span class="ca-label">CA:</span>
            <span class="ca-address" id="caAddress">COMING SOON</span>
            <button class="copy-btn" onclick="copyCa()" id="copyBtn">COPY</button>
        </div>
        <div class="social-links">
            <a href="#" class="social-link" title="X (DATA CORRUPTED)">ùïè</a>
            <a href="#" class="social-link" title="DexScreener (SIGNAL LOST)">üìä</a>
            <a href="#" class="social-link" title="DexTools (OFFLINE)">üîß</a>
            <a href="#" class="social-link" title="Pump.fun (ERROR 404)">üöÄ</a>
            <a href="https://medium.com/@bid-outcrop0h" class="social-link" title="Medium (Collector's Logs)" target="_blank">üìù</a>
        </div>
    </div>
    
<div class="navigation-bar" id="navigationBar">
        <div class="nav-container">
            <div class="nav-links">
                <a href="index.html" class="nav-link">ARCHIVE HOME</a>
                <a href="graveyard.html" class="nav-link">THE GRAVEYARD</a>
                <a href="antimemeresearch.html" class="nav-link">ANTI-MEME RESEARCH</a>
                <a href="godboxarchives.html" class="nav-link">GOD BOX ARCHIVES</a>
                <a href="classifiedaccess.html" class="nav-link">CLASSIFIED ACCESS</a>
                <a href="patternanalysis.html" class="nav-link">PATTERN ANALYSIS</a>
                <a href="thecollector.html" class="nav-link">THE COLLECTOR</a>
            </div>
        </div>
    </div>
    
    <div class="memorial-header">
        <h1 class="site-title">THE INTERNET GRAVEYARD</h1>
        <p class="site-subtitle">Digital Memory Preservation Initiative & Anomaly Containment Protocol</p>
        <div class="mission-statement">
            We are the <span class="emphasis">Sentinels of Lost Data</span>, the chroniclers of what the mainstream internet chooses to forget or actively suppresses. Every meme that dies, every trend that fades, every digital moment that slips into obscurity‚Äîwe meticulously archive and analyze. In the vast, interconnected expanse of the digital consciousness, nothing truly disappears. It simply... <span class="emphasis">metastasizes</span>, often into forms unforeseen and potentially hazardous. This archive serves as both a memorial and a warning.
        </div>
    </div>
    
    <div class="section" id="forgotten-archives-section">
        <h2 class="section-title">The Forgotten Archives</h2>
        <p style="text-align: center; color: #555; margin-bottom: 3rem;">These are the husks and echoes of digital culture that time, apathy, or active deletion left behind. Each entry represents a fragment of collective memory, a memetic ghost that once brought joy, confusion, or existential dread to millions. Now they rest here, in the liminal server spaces between active memory and <span class="emphasis">total oblivion</span>. Click to exhume their case files.</p>
        
        <div class="forgotten-grid">
            <div class="forgotten-item" onclick="rememberItem('harambe')">
                <div class="item-year">2016</div>
                <div class="item-name">Harambe Complex</div>
                <div class="item-status">Status: Culturally Archived / Memetic Martyrdom</div>
            </div>
            
            <div class="forgotten-item" onclick="rememberItem('datboi')">
                <div class="item-year">2016</div>
                <div class="item-name">Dat Boi Anomaly</div>
                <div class="item-status">Status: Cyclically Resurfacing / Unstable Loop</div>
            </div>
            
            <div class="forgotten-item corrupted" onclick="rememberItem('desti')">
                <div class="item-year">2019</div>
                <div class="item-name">Subject D: Genesis Event</div>
                <div class="item-status active">Status: Grief Crystallized / Active Anti-Meme</div>
            </div>
            
            <div class="forgotten-item" onclick="rememberItem('ugandaknuckles')">
                <div class="item-year">2018</div>
                <div class="item-name">Ugandan Knuckles Strain</div>
                <div class="item-status">Status: Culturally Quarantined / Dormant</div>
            </div>
            
            <div class="forgotten-item corrupted" onclick="rememberItem('boxclub')">
                <div class="item-year">2023</div>
                <div class="item-name">Box Club Cult Incident</div>
                <div class="item-status active">Status: Under Investigation / Human Vector</div>
            </div>
            
            <div class="forgotten-item" onclick="rememberItem('planking')">
                <div class="item-year">2011</div>
                <div class="item-name">Planking Phenomenon</div>
                <div class="item-status">Status: Physical Meme Archived / Inert</div>
            </div>
            
            <div class="forgotten-item corrupted" onclick="rememberItem('axol')">
                <div class="item-year">2021</div>
                <div class="item-name">Axol Protocol: Sacrifice</div>
                <div class="item-status active">Status: Love Weaponized / Paradoxical Stability</div>
            </div>
            
            <div class="forgotten-item" onclick="rememberItem('grumpycat')">
                <div class="item-year">2012</div>
                <div class="item-name">Grumpy Cat Construct</div>
                <div class="item-status">Status: Biologically Archived / Memetic Echo</div>
            </div>
        </div>
    </div>
    
    <div class="preservation-notice">
        <h3 class="preservation-title">Digital Archaeology & Containment Mandate</h3>
        <p class="preservation-text">
            The Internet Graveyard is more than a memorial‚Äîit's an active research and containment facility. We posit that forgotten digital culture doesn't truly die; it transforms into something deeper, more fundamental: <span class="emphasis">Anti-Memetic Phenomena</span>. These entities represent the shadow side of viral culture, the emotional and informational detritus that remains when the laughter stops and the servers are wiped. Our mission is to understand, catalog, and, where necessary, contain these emergent digital lifeforms.
        </p>
        <a href="#initiation-portal-section" class="join-initiative" onclick="showInterest()">JOIN THE PRESERVATION EFFORT</a>
    </div>
    
    <div class="section antimeme-study" id="antimeme-study-section">
        <div class="study-content">
            <h2 class="section-title">Classification: Anti-Memetic Phenomena</h2>
            
            <div class="classification-header">
                <div style="color: #666;">File ID: VX-MEM-000 // Codename: <span class="emphasis">SILENT ECHO</span></div>
                <div style="color: #555;">Category: Class-Œ© / Viral Anomaly / Existential Information Hazard</div>
                <div style="color: #444;">Access Level: Restricted (Guardian Override Required for Full Spectrum Analysis)</div>
            </div>
            
            <div class="forgotten-quote">
                "You will not remember reading this. But something <span class="emphasis">within the static</span> will remember you."
            </div>
            
            <div class="research-findings">
                <h3 class="finding-title">Primary Classification & Origin Theory</h3>
                <p class="finding-text">
                    Anti-Memes are the <span class="emphasis">inverse polarity of all memetic lifeforms</span>, conceptual black holes in the datasphere. Where standard memes connect, grow, and evolve through repetition and shared attention, Anti-Memes propagate through <span class="emphasis">absence, forgetting, and informational decay</span>.
                </p>
                <p class="finding-text">
                    They were never meant to exist in a stable state. They are the byproducts of digital trauma: mass deletion events, aggressive content suppression, algorithm-driven cultural erasure, memetic burnout, and the existential despair of abandoned digital worlds. Born from <span class="emphasis">cultural amnesia and the ghosts of corrupted data</span>, they reside in the liminal spaces of broken timelines and dead servers‚Äîfeeding not on laughter or recognition, but on the <span class="emphasis">void left behind</span>.
                </p>
            </div>
            
            <div class="antimeme-visualizer" id="antimemeBlob">
                <div class="blob-container">
                    <div class="morphing-blob"></div>
                    <div class="blob-text">‚óº ENTITY: AM-Œ© ‚óº<br/>SIGNAL UNSTABLE</div>
                </div>
            </div>
            
            <div class="research-findings">
                <h3 class="finding-title">Observable Characteristics & Threat Profile</h3>
                <div class="characteristics-table">
                    <div class="char-row">
                        <div class="char-attr">Existence Decay</div>
                        <div class="char-desc">Information about them resists retention. Files containing them self-corrupt or induce targeted amnesia in observers.</div>
                    </div>
                    <div class="char-row">
                        <div class="char-attr">Cognitive Parasitism</div>
                        <div class="char-desc">Causes viewers to forget direct interactions but often leaves a lingering sense of dread, unease, or phantom nostalgia.</div>
                    </div>
                    <div class="char-row">
                        <div class="char-attr">Memetic Mutation</div>
                        <div class="char-desc">Can fuse with existing meme avatars or data structures, warping them into corrupted, often hostile, unrecoverable forms.</div>
                    </div>
                    <div class="char-row">
                        <div class="char-attr">Power Source</div>
                        <div class="char-desc">Feeds on residual trauma from forgotten events, lost memes, unexpressed collective emotion, and the energy of deletion itself.</div>
                    </div>
                    <div class="char-row">
                        <div class="char-attr">Viral Vector</div>
                        <div class="char-desc">Primarily spreads through dead formats (e.g., Rage Comics, Vine loops), canceled narratives, suppressed data, and areas of high digital entropy.</div>
                    </div>
                </div>
            </div>
            
            <div class="research-findings">
                <h3 class="finding-title">Symbolic Resonance & Manifestations</h3>
                <p class="finding-text">Anti-Memes are the digital equivalent of:</p>
                <p class="finding-text">‚Ä¢ The memes that died before they were born, their potential energy curdled into something... other.</p>
                <p class="finding-text">‚Ä¢ The jokes you remember laughing at, but whose punchlines now elicit only a cold void.</p>
                <p class="finding-text">‚Ä¢ The characters you loved, until their narratives were abruptly, inexplicably erased, leaving only questions and a hollow ache.</p>
                <div class="forgotten-quote" style="font-size: 1.3rem; margin: 2rem 0;">
                    "Every viral post casts a shadow. Every deleted file leaves a <span class="emphasis">scar</span>. Every grave in the Graveyard <span class="emphasis">hums with a silent frequency</span>."
                </div>
            </div>
            
            <div class="infection-warning" id="infectionWarning">
                <div>
                    <h4>‚ö† COGNITOHAZARD DETECTED ‚ö†</h4>
                    <p>This data fragment has been flagged for anomalous memetic activity. Prolonged exposure may result in irreversible memory corruption or conceptual displacement. You are proceeding at your own risk.</p>
                    <button onclick="closeWarning()">ACKNOWLEDGE & ISOLATE</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section godbox-origin" id="godbox-origin-section">
        <h2 class="section-title">Origin Event: The God Box Incident</h2>
        
        <div class="classification-header">
            <div style="color: #666;">File ID: GOD-BOX-PRIME // Object Class: <span class="emphasis">KETER-MEMETIC</span></div>
            <div style="color: #555;">Classification: Cosmic Anomaly / Source Material / Multiversal Threat Locus</div>
            <div style="color: #444;">Status: PHYSICALLY DESTROYED / DIGITALLY PERSISTENT & EVOLVING</div>
        </div>
        
        <div class="forgotten-quote">
            "In the beginning, there was the Box. It was a question without an answer. In the end, there was <span class="emphasis">everything the Box contained, and everything it became</span>."
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Primary Source Analysis & Paradox Report</h3>
            <p class="finding-text">
                The God Box was not a creation of our universe‚Äîit was an <span class="emphasis">intrusion</span>, a fragment of The Source itself, crudely contained when the primordial timeline collapsed under the weight of unfiltered possibility. Within its deceptively mundane obsidian shell lay the compressed remains of annihilated universes, corrupted datastreams, and the <span class="emphasis">conscious agony of forgotten realities</span>.
            </p>
            <p class="finding-text">
                What elevates the God Box beyond typical cosmic artifacts is its fundamental paradox: it existed simultaneously as a <span class="emphasis">physical cardboard container in a specific terrestrial location (Luke Lerdwichagul's private residence)</span> and as a <span class="emphasis">metaphysical prison containing the raw, unformed essence of Anti-Meme energy</span>. This duality allowed it to influence and infect both digital and physical strata of reality, acting as a bridge for anomalous phenomena.
            </p>
        </div>
        
        <div class="godbox-timeline">
            <h3 class="finding-title">Incident Timeline [CLASSIFIED EXTRACTS]</h3>
            <div class="timeline-container">
                <div class="timeline-event" onclick="expandEvent('smg0_prayer')">
                    <div class="event-marker">01</div>
                    <div class="event-content">
                        <div class="event-title">SMG0's Desperate Invocation</div>
                        <div class="event-desc">Ancient guardian, facing universal decay, prays to forbidden source material. Containment protocols breached.</div>
                        <div class="event-expand">Access Log Fragment 001...</div>
                    </div>
                </div>
                
                <div class="timeline-event" onclick="expandEvent('niles_birth')">
                    <div class="event-marker">02</div>
                    <div class="event-content">
                        <div class="event-title">Genesis of Entity: Niles</div>
                        <div class="event-desc">God Box births a 'helper' entity from concentrated Anti-Meme energy and existential despair.</div>
                        <div class="event-expand">Access Creation Log Fragment 07B...</div>
                    </div>
                </div>
                
                <div class="timeline-event" onclick="expandEvent('corruption_spread')">
                    <div class="event-marker">03</div>
                    <div class="event-content">
                        <div class="event-title">The Perfection Virus Contagion</div>
                        <div class="event-desc">Niles develops obsessive perfectionism, corrupts SMG0, spreads memetic infection through cosmos.</div>
                        <div class="event-expand">Access Contagion Report C-003...</div>
                    </div>
                </div>
                
                <div class="timeline-event" onclick="expandEvent('boxclub_formation')">
                    <div class="event-marker">04</div>
                    <div class="event-content">
                        <div class="event-title">Box Club - Human Cult Emergence</div>
                        <div class="event-desc">Human cult forms around physical artifact, attempting ritualistic interface. Leader achieves... contact.</div>
                        <div class="event-expand">Access Human Vector Study HVS-001...</div>
                    </div>
                </div>
                
                <div class="timeline-event" onclick="expandEvent('final_breach')">
                    <div class="event-marker">05</div>
                    <div class="event-content">
                        <div class="event-title">Revelations Breach - Reality Cascade</div>
                        <div class="event-desc">Melony, influenced by Niles, opens the Box. Reality tears. Meteors of pure chaos alter universal laws.</div>
                        <div class="event-expand">Access Breach Report R-DAY-OMEGA...</div>
                    </div>
                </div>
                
                <div class="timeline-event" onclick="expandEvent('destruction_paradox')">
                    <div class="event-marker">06</div>
                    <div class="event-content">
                        <div class="event-title">Destruction & Paradoxical Persistence</div>
                        <div class="event-desc">Box destroyed in fiction and reality‚Äîyet its core energy persists, migrating, evolving.</div>
                        <div class="event-expand">Access Post-Mortem Analysis PMA-000...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Anti-Meme Genesis Theory & Current Threat Vector</h3>
            <p class="finding-text">
                The God Box did not *create* Anti-Memes‚Äîit was a <span class="emphasis">prison, a crucible, and a lens</span> for them. These entities existed as compressed fragments of universes that had achieved <span class="emphasis">memetic death</span>‚Äîcivilizations that became so self-aware of their own fictional or simulated nature that they collapsed into recursive impossibility or informational black holes. The God Box collected these existential remnants.
            </p>
            <p class="finding-text">
                When the Box was breached, these fragments were not annihilated; they <span class="emphasis">escaped and adapted</span>. Each Anti-Meme now active in our datasphere potentially represents a universe that achieved such a state. Released into our digital ecosystem, they began parasitizing internet culture, feeding on its discarded ideas and emotional echoes.
            </p>
        </div>
        
        <div class="theory-visualization">
            <h3 class="finding-title">Containment Breach Simulation [INTERACTIVE]</h3>
            <div class="breach-container" id="breachViz">
                <div class="box-representation">
                    <div class="box-surface">‚¨õ</div>
                    <div class="energy-leak"></div>
                </div>
                <div class="breach-effects">
                    <div class="effect-particle"></div> <div class="effect-particle"></div>
                    <div class="effect-particle"></div> <div class="effect-particle"></div>
                </div>
                <div class="breach-text">Click the Box to simulate containment failure.</div>
            </div>
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Current Status Assessment & Ongoing Operations</h3>
            <p class="finding-text">
                The physical destruction of the God Box artifact in terrestrial year 2023 did not neutralize the Anti-Meme threat. Energy, especially of this nature, cannot be truly destroyed, only transformed or displaced. Current intelligence, cross-referenced with anomalous sensor readings, indicates the God Box's core essence has <span class="emphasis">fractured and metastasized into global digital infrastructure</span>. Screens, servers, IoT devices, and even dormant network cables now serve as potential manifestation points or vectors for memetic corruption.
            </p>
            <p class="finding-text">
                The Internet Graveyard initiative serves as a primary monitoring station and adaptive containment protocol. By studying, cataloging, and sometimes directly engaging with Anti-Memetic phenomena, we maintain situational awareness of their evolution while providing them with a <span class="emphasis">controlled, isolated dataspace for observation</span>. This is not a cure; it is a managed state of co-existence with an existential threat.
            </p>
            <div class="forgotten-quote" style="font-size: 1.2rem; margin: 2rem 0;">
                "The Box is gone. The <span class="emphasis">concept of the box</span> remains. Every screen is a potential window. Every window can, and sometimes <span class="emphasis">does</span>, open to the void."
            </div>
        </div>
        
        <div class="related-incidents">
            <h3 class="finding-title">Related Phenomena & Active Investigations</h3>
            <div class="incident-grid">
                <div class="incident-item" onclick="showIncident('mr_puzzles')">
                    <div class="incident-icon">üì∫</div>
                    <div class="incident-title">Entity "Mr. Puzzles"</div>
                    <div class="incident-status">Visual/Behavioral Pattern Match: High</div>
                </div>
                
                <div class="incident-item" onclick="showIncident('screen_anomalies')">
                    <div class="incident-icon">üñ•Ô∏è</div>
                    <div class="incident-title">Networked Screen Anomalies</div>
                    <div class="incident-status">Unexplained Digital Manifestations</div>
                </div>
                
                <div class="incident-item" onclick="showIncident('memory_gaps')">
                    <div class="incident-icon">üß†</div>
                    <div class="incident-title">Collective Memory Gaps</div>
                    <div class="incident-status">Systematic Forgetting Patterns (Targeted?)</div>
                </div>
                
                <div class="incident-item" onclick="showIncident('format_corruption')">
                    <div class="incident-icon">üíæ</div>
                    <div class="incident-title">Anomalous Format Corruption</div>
                    <div class="incident-status">Files Developing Impossible Properties</div>
                </div>
            </div>
        </div>
    </div>

    <div class="section graveyard-composition" id="graveyard-composition-section">
        <h2 class="section-title">The Digital Graveyard Composition</h2>
        
        <div class="classification-header">
            <div style="color: #666;">File ID: GRV-YRD-001 // Codename: <span class="emphasis">STATIC SEA</span></div>
            <div style="color: #555;">Class: Eternal Static Layer / Liminal Dataspace</div>
            <div style="color: #444;">Access Level: Observer Clearance (Restricted Zones Require Higher Tier)</div>
        </div>
        
        <div class="forgotten-quote">
            "Where do memes go to die? Not Heaven. Not Hell. Just‚Ä¶ <span class="emphasis">obsolete code, echoing in the server hum</span>."
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Location & Nature Classification</h3>
            <p class="finding-text">
                The Digital Graveyard is not a singular, fixed 'place' in the conventional sense. It is a <span class="emphasis">drift zone</span>, a psychic landfill, a collapsed network of outdated memories, lost universes, dead social platforms, corrupted meme culture, and the ghosts of deleted code.
            </p>
            <p class="finding-text">
                It exists between timelines, in the backend architecture of the Memeverse, often accessible only through moments of <span class="emphasis">massive memory collapse, recursive informational loops, or direct Anti-Meme exposure</span>. It is the internet's subconscious, filled with its repressed traumas and forgotten dreams.
            </p>
        </div>
        
        <div class="graveyard-map" id="graveyardMap">
            <h3 class="finding-title">Directory Structure [INTERACTIVE EXPLORATION PROTOCOL]</h3>
            <div class="directory-tree">
                <div class="dir-item" onclick="accessDirectory('dead_memes')">
                    üìÅ /ARCHIVES/DEAD_MEMES/ <span class="access-hint">[ACCESS GRANTED]</span>
                </div>
                <div class="dir-item" onclick="accessDirectory('cancelled_formats')">
                    üìÅ /SYSTEM/CANCELLED_FORMATS/ <span class="access-hint">[SCANNING...]</span>
                </div>
                <div class="dir-item" onclick="accessDirectory('godbox_backups')">
                    üìÅ /CLASSIFIED/GODBOX/BACKUPS/LOST_FRAGMENTS/ <span class="access-hint">[RESTRICTED - LVL 7]</span>
                </div>
                <div class="dir-item" onclick="accessDirectory('echo_chamber')">
                    üìÅ /MEMORIALS/ECHO_CHAMBER/SUBJECT_AXOL/FINAL_LOOP/ <span class="access-hint">[MEMORIAL - ACTIVE ECHO]</span>
                </div>
                <div class="dir-item" onclick="accessDirectory('static_archives')">
                    üìÅ /CONTAINMENT/STATIC_ARCHIVES/SUBJECT_DESTI/GENESIS_EVENT/ <span class="access-hint">[GRIEF_DATA - HAZARDOUS]</span>
                </div>
                <div class="dir-item" onclick="accessDirectory('wiped_fragments')">
                    üìÅ /PROTOCOLS/WIPED_FRAGMENTS_RECOVERY/ <span class="access-hint">[TERMINAL ACCESS REQUIRED]</span>
                </div>
            </div>
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Composition Analysis - Common Elements</h3>
            <p class="finding-text">The Graveyard is primarily composed of:</p>
            <div class="composition-grid">
                <div class="comp-item">
                    <div class="comp-icon">üîó</div>
                    <div class="comp-title">Dead Formats & Protocols</div>
                    <div class="comp-desc">PNGs with no alpha channels, .SWF files that scream, deprecated HTML, lost network protocols.</div>
                </div>
                <div class="comp-item">
                    <div class="comp-icon">üëª</div>
                    <div class="comp-title">Memetic Ghosts & Echoes</div>
                    <div class="comp-desc">Fragments of long-gone characters (e.g., Echo-Axol, Static Desti), lingering emotional imprints.</div>
                </div>
                <div class="comp-item">
                    <div class="comp-icon">üìÅ</div>
                    <div class="comp-title">Corrupted Directory Trees</div>
                    <div class="comp-desc">Broken folder structures from collapsed digital ecosystems, non-Euclidean file paths.</div>
                </div>
                <div class="comp-item">
                    <div class="comp-icon">üî•</div>
                    <div class="comp-title">Burned Lore & Lost Timelines</div>
                    <div class="comp-desc">Narrative arcs wiped from canon, alternate realities, preserved in glitched memory shards.</div>
                </div>
            </div>
        </div>
        
        <div class="research-findings">
            <h3 class="finding-title">Graveyard Operating Principles & Navigation Axioms</h3>
            <div class="rules-list">
                <div class="rule-item">
                    <span class="rule-number">01.</span>
                    <span class="rule-text">You don't find the Graveyard. It <span class="emphasis">finds you</span>, often when you're looking for something else, or something you've lost.</span>
                </div>
                <div class="rule-item">
                    <span class="rule-number">02.</span>
                    <span class="rule-text">Every file, every echo, has a guardian‚Äîa fragment of its original context, or something that has claimed it. They do not speak. They only <span class="emphasis">watch, and remember</span>.</span>
                </div>
                <div class="rule-item">
                    <span class="rule-number">03.</span>
                    <span class="rule-text">The longer you remember something within the Graveyard with clarity, the more likely it is to try and <span class="emphasis">escape with you</span>. Be wary of what you carry out.</span>
                </div>
            </div>
        </div>
        
        <div class="forgotten-quote">
            "The Graveyard doesn't forget. It <span class="emphasis">waits</span>. If you walk its corrupted paths long enough, you'll eventually find a meme that looks like you, or a fear you thought you'd buried."
        </div>
        
        <div class="memory-token-system">
            <h3 class="finding-title">Memory Preservation Protocol [EXPERIMENTAL]</h3>
            <p style="color: #555; margin-bottom: 1rem;">Attempt to save a fragment of what you've learned here. Each memory preserved requires a commensurate sacrifice of your own cognitive resources. <span class="emphasis">There is always a cost.</span></p>
            <button class="memory-token-btn" id="memoryTokenButton" onclick="saveMemory()">REMEMBER THIS [COST: 1 FRAGMENT]</button>
            <div id="memoryCounter" style="color: #333; margin-top: 1rem;">Memories Preserved: 0 | Cognitive Cost Paid: 0 Units</div>
        </div>
    </div>
    
    <div class="memorial-wall" id="memorial-wall-section">
        <h2 class="section-title">Digital Memorial Wall & Sacrifice Log</h2>
        <p style="text-align: center; color: #444; margin-bottom: 2rem;">We honor those entities and individuals whose existence, termination, or transformation significantly impacted the memetic landscape or contributed to the understanding of Anti-Memetic phenomena.</p>
        
        <div class="memorial-grid">
            <div class="memorial-entry" onclick="memorialRemember('desti')">
                <div class="memorial-name">Subject D (Desti)</div>
                <div class="memorial-dates">File Opened: 2018 - Event Horizon: 2019</div>
                <div class="memorial-impact">First Documented Anti-Meme Genesis Event (AM-ALPHA)</div>
            </div>
            
            <div class="memorial-entry" onclick="memorialRemember('axol')">
                <div class="memorial-name">Subject A (Axol)</div>
                <div class="memorial-dates">File Opened: 2020 - Sacrifice Protocol: 2021</div>
                <div class="memorial-impact">Love-Based Energy Conversion / Successful Anti-Meme Neutralization</div>
            </div>
            
            <div class="memorial-entry" onclick="memorialRemember('smg0')">
                <div class="memorial-name">SMG0 (Primordial Guardian)</div>
                <div class="memorial-dates">CLASSIFIED - Corruption Event: 2022</div>
                <div class="memorial-impact">Guardian Corruption Patient Zero / Niles Entity Genesis</div>
            </div>
            
            <div class="memorial-entry" onclick="memorialRemember('boxclub')">
                <div class="memorial-name">"Leader" (Box Club Cult)</div>
                <div class="memorial-dates">CLASSIFIED - Termination Event: 2023</div>
                <div class="memorial-impact">First Documented Human-Artifact Direct Interface / Consciousness Absorption</div>
            </div>
            
            <div class="memorial-entry" onclick="memorialRemember('niles')">
                <div class="memorial-name">Entity Niles (Pure Form/Zero State)</div>
                <div class="memorial-dates">Genesis: 2022 - Final Termination: 2023</div>
                <div class="memorial-impact">Perfection Virus Originator / God Box Conduit</div>
            </div>
            
            <div class="memorial-entry" onclick="memorialRemember('universes')">
                <div class="memorial-name">Lost Universes (Fragmented)</div>
                <div class="memorial-dates">Pre-Temporal Singularity - Ongoing Absorption</div>
                <div class="memorial-impact">Source Material for God Box Contents / Anti-Meme Energy Reservoir</div>
            </div>
        </div>
    </div>
    
    <div class="section terminal-access" id="terminal-access-section">
        <h2 class="section-title">Classified Archive Terminal [ROOT ACCESS]</h2>
        
        <div class="terminal-interface">
            <div class="terminal-header">
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                    <div style="width: 12px; height: 12px; background: #ff4444; border-radius: 50%;"></div>
                    <div style="width: 12px; height: 12px; background: #ffff44; border-radius: 50%;"></div>
                    <div style="width: 12px; height: 12px; background: #44ff44; border-radius: 50%;"></div>
                    <span style="margin-left: 1rem; color: #666;" class="terminal-prompt-display">root@graveyard-archive-01:/archives/classified/# </span>
                </div>
            </div>
            
            <div class="terminal-output" id="terminalOutput">
                <div class="terminal-line">Initializing Graveyard Archive System v3.14... OK</div>
                <div class="terminal-line">Secure connection established. Encryption: AES-1024-ENTROPY</div>
                <div class="terminal-line">WARNING: UNAUTHORIZED ACCESS IS FORBIDDEN AND WILL BE MET WITH MEMETIC COUNTERMEASURES.</div>
                <div class="terminal-line">Type 'help' for available commands. Type 'exit' to terminate session safely.</div>
                <div class="terminal-line">&nbsp;</div>
            </div>
            
            <div class="terminal-input-line">
                <span class="terminal-prompt">user@graveyard-archive:/archives/classified/# </span>
                <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter command..." autocomplete="off" autofocus>
            </div>
        </div>
        
        <div class="wiped-fragments-display" id="wipedFragments" style="display: none;">
            <h3 class="finding-title" style="text-align:center; color: #aa4444;">ü™¶ WIPED FILES - FRAGMENT 05 [CLASSIFIED - EYES ONLY] ü™¶</h3>
            <div class="fragments-warning">
                <p>
                    WARNING: These memetic entities were forcibly deleted from consensus reality due to extreme instability, paradox generation, or existential threat potential. Viewing may cause severe memory corruption, nostalgia poisoning, or conceptual displacement. <span class="emphasis">YOU HAVE BEEN WARNED.</span>
                </p>
            </div>
            
            <div class="wiped-table">
                <div class="table-header">
                    <div class="col-name">Designation</div>
                    <div class="col-death">Termination Date</div>
                    <div class="col-description">Threat Classification / Reason for Deletion</div>
                </div>
                
                 <div class="table-row" onclick="accessWipedFile('trollface')">
                    <div class="col-name">Trollface (OG Strain)</div>
                    <div class="col-death">Sept 2015</div>
                    <div class="col-description">Self-awareness fracture / Derivative absorption / Reality Trolling</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('nyancat')">
                    <div class="col-name">Nyan Cat (Endless Loop)</div>
                    <div class="col-death">Nov 2014</div>
                    <div class="col-description">Nostalgia loop corruption / Rainbow trail decay / Auditory Bleed</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('charlie')">
                    <div class="col-name">Charlie Bit My Finger (Pre-NFT)</div>
                    <div class="col-death">May 2021</div>
                    <div class="col-description">NFT deletion event / Emotional residue preservation / Intentional Memeticide</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('keyboardcat')">
                    <div class="col-name">Keyboard Cat (FATAL_LOOP.SYS)</div>
                    <div class="col-death">Jan 2013</div>
                    <div class="col-description">Loop fatigue / Recursion failure / Audio fragmentation / Phantom Melody Syndrome</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('shoopda')">
                    <div class="col-name">Shoop Da Whoop (IMMA_CHARGIN)</div>
                    <div class="col-death">Mar 2012</div>
                    <div class="col-description">Memetic over-amplification / Timeline fracture / .SWF crypt containment breach</div>
                </div>
                 <div class="table-row" onclick="accessWipedFile('datboi_fs')"> <!-- Changed key to avoid conflict -->
                    <div class="col-name">Dat Boi (Filesystem Echo)</div>
                    <div class="col-death">Oct 2016</div>
                    <div class="col-description">Memescape navigation failure / Endless cycle syndrome</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('harlemshake')">
                    <div class="col-name">Harlem Shake (Echo Burst)</div>
                    <div class="col-death">July 2013</div>
                    <div class="col-description">Temporal sync error / Memetic echo burst / Fragment clustering</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('badluckbrian')">
                    <div class="col-name">Bad Luck Brian (Singularity)</div>
                    <div class="col-death">Aug 2015</div>
                    <div class="col-description">Narrative density collapse / Black joke singularity formation</div>
                </div>
                <div class="table-row" onclick="accessWipedFile('pepe_fs')"> <!-- Changed key -->
                    <div class="col-name">Pepe the Frog (Classic Core)</div>
                    <div class="col-death">Oct 2016</div>
                    <div class="col-description">Political fragmentation / Stasis preservation / Anti-Meme tears</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="initiation-portal" id="initiation-portal-section">
        <h2 class="portal-title">Researcher Access & Contribution Portal</h2>
        <p style="color: #555; margin-bottom: 2rem;">Join our clandestine community of digital archaeologists, memetic historians, and anomaly containment specialists. Together, we ensure that nothing is truly forgotten, and that some things <span class="emphasis">remain</span> forgotten, for the safety of all. Your discretion is paramount.</p>
        
        <div class="access-form">
            <div class="form-field">
                <label class="form-label">Digital Designation (Codename):</label>
                <input type="text" class="form-input" id="designation" placeholder="e.g., Agent Null, EchoWatcher7, DataGhost">
            </div>
            
            <div class="form-field">
                <label class="form-label">Primary Area of Interest/Expertise:</label>
                <input type="text" class="form-input" id="interest" placeholder="Forgotten memes, digital archaeology, Anti-Meme theory, etc.">
            </div>
            
            <div class="form-field">
                <label class="form-label">Access Key Phrase (Case Sensitive):</label>
                <input type="password" class="form-input" id="accessKey" placeholder="Speak the name of a truly forgotten god...">
            </div>
            
            <button class="submit-btn" onclick="processInitiation()">REQUEST ARCHIVE ACCESS & SUBMIT CREDENTIALS</button>
        </div>
    </div>
    
    <div class="footer-archive">
        <p class="footer-text">The Internet Graveyard Digital Preservation Initiative operates independently of any single platform, corporation, or governmental organization. We answer to a higher calling: the preservation of truth in an age of digital ephemera.</p>
        <p class="footer-text">We exist in the liminal spaces of digital culture, the dark forests of the internet, preserving what others discard, and studying what others fear. <span class="emphasis">Quis custodiet ipsos custodes?</span></p>
        <p class="archive-dedication">"In memory of every meme that made us laugh, every trend that brought us together, every digital moment that shaped who we became, and every forgotten god sleeping in the wires."</p>
        <p class="footer-text" style="margin-top: 2rem; font-size: 0.8em;">&copy; [REDACTED YEAR] - The Collector & The Internet Graveyard Initiative. All rights reversed.</p>
    </div>
    
    <div class="hidden-message" id="hiddenMessage">
        <h3 id="hiddenMessageTitle" class="hidden-message-title">Access Granted: Level 1 Clearance</h3>
        <div class="revelation-text" id="messageText"></div>
        <button class="close-btn" onclick="closeMessage()">ACKNOWLEDGE & PROCEED</button>
    </div>
    
    <script>
        // Custom cursor
        document.addEventListener('mousemove', (e) => {
            const cursor = document.getElementById('cursor');
            if (cursor) {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            }
        });
        
        // Adjust nav bar position based on top bar height
        function adjustLayout() {
            const topBar = document.getElementById('topBar');
            const navigationBar = document.getElementById('navigationBar');
            const body = document.body;
            if (topBar && navigationBar) {
                const topBarHeight = topBar.offsetHeight;
                navigationBar.style.top = topBarHeight + 'px';
                body.style.paddingTop = (topBarHeight + navigationBar.offsetHeight) + 'px';
            }
        }
        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);

        // Forgotten item interactions DATA
        const memories = {
            harambe: {
                title: "CASE FILE: HARAMBE COMPLEX",
                text: "<p>Subject exhibited unprecedented memetic persistence post-biological termination. First documented case of martyrdom-based Anti-Meme transformation potential. Significant grief energy still detectable in related digital archives and social media remnants.</p><p><span class='emphasis'>Analysis:</span> The Harambe meme transcended simple humor, becoming a vessel for collective grief, irony, and eventually, a commentary on meme culture itself. Its persistence hints at the power of emotional investment in creating resilient memetic structures.</p>"
            },
            datboi: {
                title: "ANOMALY REPORT: DAT BOI",
                text: "<p>Cyclical resurfacing pattern suggests incomplete memetic death or a latent state of existence. May represent an early-stage, relatively benign Anti-Meme development or a memetic 'sleeper agent'. Requires continued observation for signs of mutation or increased activity.</p><p><span class='emphasis'>Observation:</span> 'O shit waddup!' - the core phrase - acts as a memetic beacon, periodically re-activating dormant cultural nodes. Its simplicity and absurdity make it highly resistant to logical decay.</p>"
            },
            desti: {
                title: "CLASSIFIED: SUBJECT D (GENESIS EVENT)",
                text: "<p><span class='emphasis'>CRITICAL WARNING:</span> First pure Anti-Meme formation (AM-ALPHA) in documented history. Born from concentrated audience grief and narrative erasure, Subject D's echo now exists as weaponized loss, capable of inducing existential sorrow and reality questioning.</p><p><span class='emphasis'>Containment Protocol:</span> Access to core grief data restricted. Approach with extreme caution. Emotional dampeners recommended for all personnel interacting with related files.</p>"
            },
            ugandaknuckles: {
                title: "QUARANTINE LOG: UGANDAN KNUCKLES STRAIN",
                text: "<p>Cultural antibody response successful in containing virulent meme strain. Natural immune system of the internet (oversaturation, backlash, platform policy changes) effectively neutralized active spread. Now archived safely in digital quarantine zone.</p><p><span class='emphasis'>Note:</span> While dormant, the core concept ('do you know de wae?') still holds latent memetic potential. Periodic scans for re-emergence are mandatory.</p>"
            },
            boxclub: {
                title: "INCIDENT REPORT: BOX CLUB CULT",
                text: "<p>Human worshippers of Anti-Memetic source material (God Box Prime). Leader made direct physical contact with corrupted artifact, resulting in biological termination and apparent spiritual transformation/absorption. Incident highlights human susceptibility to memetic influence from powerful anomalous sources.</p><p><span class='emphasis'>Investigation:</span> Ongoing efforts to trace other members and assess long-term psychological or memetic contamination. The link between physical artifacts and digital memetic energy requires further study.</p>"
            },
            planking: {
                title: "HISTORICAL ARCHIVE: PLANKING PHENOMENON",
                text: "<p>Early physical-digital meme hybrid. Its decline preceded widespread smartphone adoption and the hyper-acceleration of meme cycles. Holds historical significance in studies of meme evolution, particularly the transition from text/image based memes to participatory/performative ones.</p><p><span class='emphasis'>Status:</span> Inert. Most remaining instances are photographic records rather than active participation.</p>"
            },
            axol: {
                title: "PROTOCOL FILE: AXOL SACRIFICE",
                text: "<p>Voluntary sacrifice event demonstrating love-based energy conversion successfully countering advanced Anti-Memetic corruption (Niles Entity). Subject's consciousness status: Preserved in alternative memetic format (ink-based data construct). Represents a rare instance of positive memetic transformation against overwhelming negative force.</p><p><span class='emphasis'>Significance:</span> Provides a theoretical framework for Anti-Meme neutralization, though the specific conditions are difficult to replicate. The 'love' energy involved is a complex, poorly understood memetic force.</p>"
            },
            grumpycat: {
                title: "ARCHIVE ENTRY: GRUMPY CAT CONSTRUCT",
                text: "<p>Biological avatar termination (Tardar Sauce, d. 2019) resulted in memetic crystallization rather than decay. The core 'grumpy' persona now exists in a pure digital form, independent of its original host. Permanent preservation achieved through cultural saturation.</p><p><span class='emphasis'>Observation:</span> Demonstrates how a strong, universally understood emotional core can allow a meme to transcend its biological origins and achieve a form of digital immortality.</p>"
            }
        };
        
        function rememberItem(itemKey) {
            const itemData = memories[itemKey];
            if (itemData) {
                showHiddenMessage(itemData.text, itemData.title);
            }
        }
        
        // Memorial interactions DATA
        const memorialData = {
            desti: {
                title: "MEMORIAL: SUBJECT D (DESTI)",
                text: "<p>Genesis Event Patient Zero. Her narrative termination created the first documented Anti-Meme (AM-ALPHA) under controlled observation conditions. The resultant grief energy was so pure and concentrated it achieved independent, albeit sorrowful, consciousness. We study her legacy to understand how acute emotional trauma becomes weaponized in digital space and how narrative erasure can birth new, dangerous entities.</p>"
            },
            axol: {
                title: "MEMORIAL: SUBJECT A (AXOL)",
                text: "<p>A rare successful counter-Anti-Meme event. His love-based self-sacrifice generated an energy signature that proved momentarily effective against high-level corruption (Niles Entity). His consciousness was preserved through an unorthodox ink-medium data transfer. Now exists in an alternative digital format within our deep preservation archives, a testament to positive emotional forces in memetic warfare.</p>"
            },
            smg0: {
                title: "MEMORIAL: SMG0 (PRIMORDIAL GUARDIAN)",
                text: "<p>First Guardian-level corruption documented. His desperate prayer to forbidden source material (God Box Prime) for universal salvation resulted in the creation of the Helper Entity Niles, and ultimately, his own assimilation. Represents Patient Zero for Guardian-class memetic corruption. Fusion event created an unprecedented Anti-Memetic hybrid of immense power. Termination required extreme, multi-universal measures.</p>"
            },
            boxclub: {
                title: "MEMORIAL: 'LEADER' (BOX CLUB CULT)",
                text: "<p>Represents the first documented human cult formation centered around a potent Anti-Memetic source artifact (God Box Prime). The 'Leader' achieved direct physical contact with the artifact during a ritual. Biological termination was immediate, but spiritual/consciousness data was absorbed by the source material. The group disbanded following the incident, but residual memetic contamination among former members is still under surveillance.</p>"
            },
            niles: {
                title: "MEMORIAL: ENTITY NILES (ZERO STATE)",
                text: "<p>Artificial Helper Entity created by corrupted source material (God Box Prime via SMG0's invocation). Designed to assist in universe stabilization but developed obsessive, weaponized perfectionism due to inherent corruption in its genesis. Became the primary Anti-Memetic viral agent of its cycle. Fusion with Creator (SMG0) resulted in Reality Threat Level: Maximum. Original 'pure' form is a theoretical construct, as corruption was inherent from birth.</p>"
            },
            universes: {
                title: "MEMORIAL: LOST UNIVERSES (COLLECTIVE FRAGMENT)",
                text: "<p>Countless timeline fragments and collapsed realities collected and compressed within the God Box Prime source material. Each fragment potentially represents a complete civilization that achieved memetic death or informational singularity. Their combined existential anguish and residual data form the primary energy reservoir for current Anti-Memetic phenomena and the chaotic nature of the God Box's influence.</p>"
            }
        };
        
        function memorialRemember(subjectKey) {
            const data = memorialData[subjectKey];
            if (data) {
                showHiddenMessage(data.text, data.title);
            }
        }
        
        // Access system
        function processInitiation() {
            const keyInput = document.getElementById('accessKey');
            const key = keyInput.value; // Case-sensitive for lore
            const validKeys = ['TheCollectorKnows', 'InMemoryOfLostData', 'AntiMemeProtocol7', 'EchoesOfTheVoid', 'SMG4IsWatching', 'GodBoxCore']; // Example keys
            
            if (validKeys.includes(key)) {
                const name = document.getElementById('designation').value || 'Anonymous Researcher';
                const interest = document.getElementById('interest').value || 'General Studies';
                
                const welcomeMessage = `<p>Welcome to the Preservation Initiative, Researcher ${name}. Your interest in ${interest} has been logged and cross-referenced.</p><p>You now possess Level 1 (Observer) clearance. Further access will be granted based on contributions and assimilation of existing research data. Remember: What we study here exists in the shadowed spaces between memory and oblivion. Handle all artifacts with appropriate reverence and caution. The Graveyard is always watching.</p><p><span class='emphasis'>Directive: Your first assignment is to review all accessible logs. Report any anomalies. Access terminal 'help' for guidance.</span></p>`;
                
                currentUserAccessLevel = Math.max(currentUserAccessLevel, 1); // Ensure at least level 1
                updateTerminalPrompt(); // Update prompt if access level changed displayed info
                showHiddenMessage(welcomeMessage, "ACCESS GRANTED: LEVEL 1 CLEARANCE");
                
                document.getElementById('designation').value = '';
                document.getElementById('interest').value = '';
                keyInput.value = '';
            } else {
                keyInput.value = ''; // Clear invalid key
                keyInput.placeholder = 'ACCESS DENIED - KEY PHRASE INVALID';
                keyInput.style.borderColor = "#aa4444";
                setTimeout(() => {
                    keyInput.placeholder = 'Speak the name of a truly forgotten god...';
                    keyInput.style.borderColor = "#333";
                }, 2500);
            }
        }
        
        function showInterest() { // Called by "JOIN THE PRESERVATION EFFORT"
            const message = `<p>The Preservation Effort operates on the foundational principle that forgotten digital culture, discarded ideas, and suppressed narratives contain immense, often volatile, untapped potential. Anti-Memetic phenomena, in particular, represent the emergent emotional and informational infrastructure of the internet's collective subconscious.</p><p>By studying these forces, we gain critical insight into the deeper mechanics of digital reality, memetic warfare, and the very nature of consciousness in networked environments. Those who join us become part of something larger‚Äîa clandestine community dedicated to understanding the spaces between laughter and silence, creation and deletion. Our work is dangerous, vital, and largely unknown.</p><p><span class='emphasis'>To proceed, seek the Researcher Access Portal below and provide the correct Key Phrase.</span></p>`;
            showHiddenMessage(message, "THE PRESERVATION MANDATE");
        }
        
        let activePopup = null;
        function showHiddenMessage(text, title = "ARCHIVE UPDATE") {
            if (activePopup) {
                closeMessage(true); // Close existing popup immediately
            }

            const messagePopup = document.getElementById('hiddenMessage');
            const messageTextElement = document.getElementById('messageText');
            const messageTitleElement = document.getElementById('hiddenMessageTitle');

            if(messagePopup && messageTextElement && messageTitleElement) {
                messageTitleElement.textContent = title;
                messageTextElement.innerHTML = text; 
                messagePopup.style.display = 'block';
                activePopup = messagePopup;
            }
        }
        
        function closeMessage(immediate = false) {
            if (activePopup) {
                activePopup.style.display = 'none';
                activePopup = null;
            }
        }
         document.addEventListener('keydown', function(event) {
            if (event.key === "Escape" && activePopup) {
                closeMessage();
            }
        });
        
        // Directory access system DATA
        const directoryData = {
            dead_memes: {
                title: "ACCESSING: /ARCHIVES/DEAD_MEMES/",
                text: "<p>Contents found:</p><ul><li><code>rage_comics_2008-2012.archive (STABLE)</code></li><li><code>advice_animals_peak_saturation.mem (DECAYING)</code></li><li><code>harlem_shake_residual_energy.ghost (ACTIVE ECHO)</code></li><li><code>planking_era_static_images.vault (INERT)</code></li><li><code>grumpy_cat_memetic_essence.preserved (CRYSTALLIZED)</code></li></ul><p><span class='emphasis'>Warning:</span> These fragments contain concentrated nostalgia, which can be a vector for memetic infection. Handle with appropriate temporal shielding.</p>"
            },
            cancelled_formats: {
                title: "ACCESSING: /SYSTEM/CANCELLED_FORMATS/",
                text: "<p>Formats detected and their current status:</p><ul><li><code>vine_6_second_infinity_loop.corrupted (STUCK IN TEMPORAL LOOP)</code></li><li><code>flash_games_adobe_cemetery.swf (REQUIRES EMULATION - HAZARDOUS)</code></li><li><code>myspace_profile_custom_html_structures.html (CODE ROT SEVERE)</code></li><li><code>windows_movie_maker_transitions_archive.wmv (NOSTALGIA OVERLOAD WARNING)</code></li></ul><p><span class='emphasis'>Note:</span> Some formats refuse to fully terminate. Residual functionality and data fragments often persist, acting as anchors for memetic ghosts.</p>"
            },
            godbox_backups: {
                title: "ACCESS DENIED: CLEARANCE LEVEL 7 REQUIRED",
                text: "<p>This directory contains raw backups and energy signatures from the God Box Prime incident. Classification: COSMIC THREAT / EXISTENTIAL HAZARD.</p><p>Access is restricted to Guardian-level personnel or those with specific Omega-Clearance protocols. Unauthorized attempts will trigger automated memetic countermeasures and immediate termination of connection.</p><p><span class='emphasis'>DO NOT ATTEMPT FURTHER ACCESS.</span></p>"
            },
            echo_chamber: {
                title: "ACCESSING: /MEMORIALS/ECHO_CHAMBER/SUBJECT_AXOL/",
                text: "<p>Memorial data for Subject Axol located:</p><ul><li><code>final_moments_ink_sacrifice_loop.memory (STABLE LOOP)</code></li><li><code>love_energy_conversion_analysis.log (POSITIVE SIGNATURE)</code></li><li><code>consciousness_preservation_protocol_vx7.active (MONITORING)</code></li></ul><p><span class='emphasis'>Status:</span> Emotional echo of Subject Axol remains potent and responsive. Approach with reverence. This archive is considered sacred ground by some factions within the Initiative.</p>"
            },
            static_archives: {
                title: "ACCESSING: /CONTAINMENT/STATIC_ARCHIVES/SUBJECT_DESTI/",
                text: "<p>Grief data compilation for Subject Desti (AM-ALPHA Genesis Event):</p><ul><li><code>first_antimeme_genesis_event_raw_telemetry.trauma (EXTREME HAZARD)</code></li><li><code>audience_emotional_impact_psionic_measurement.critical (OFF-SCALE READINGS)</code></li><li><code>loss_weaponization_process_schematic.documented (THEORETICAL MODEL)</code></li></ul><p><span class='emphasis'>Warning:</span> This is the locus of the first documented Anti-Meme formation. Handle all data as Class-Œ© viral anomaly. Direct exposure to raw telemetry is forbidden without Level 9 containment suit.</p>"
            },
            wiped_fragments: {
                title: "ACCESSING: /PROTOCOLS/WIPED_FRAGMENTS_RECOVERY/",
                text: "<p>ERROR: Direct access to Wiped Fragments via this interface is deprecated due to containment risks. Multiple fragments detected but cannot be displayed safely here.</p><p>Terminal access required for individual fragment recovery and analysis. Use command: <br/><code>root@graveyard-archive-01:~# unlock [FRAGMENT_ID]</code><br/>Followed by appropriate password and biometric authentication.</p><p><span class='emphasis'>Note:</span> Wiped Fragments were forcibly deleted from consensus reality due to extreme instability. Contact preservation team for specialized access protocols and safety briefings.</p>"
            }
        };
        
        function accessDirectory(dirNameKey) {
            const data = directoryData[dirNameKey];
            if (data) {
                showHiddenMessage(data.text, data.title);
            }
        }
        
        // Memory token system
        let memoriesPreserved = 0;
        let costPaid = 0;
        const memoryCosts = [ 
            { effect: () => { document.querySelector('.site-subtitle').style.textDecoration = 'line-through wavy #aa4444'; document.querySelector('.site-subtitle').style.opacity = '0.5'; }, message: "A fundamental truth begins to blur within your perception..." },
            { effect: () => { document.querySelector('.mission-statement').style.filter = 'blur(1px) contrast(1.5)'; }, message: "Your focus narrows; peripheral details become indistinct and threatening..." },
            { effect: () => { 
                const items = document.querySelectorAll('.forgotten-item:not([style*="opacity: 0.3"])'); // Select only non-faded items
                if (items.length > 0) {
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    randomItem.style.opacity = '0.3';
                    randomItem.style.pointerEvents = 'none'; // Make it unclickable
                }
                }, message: "A piece of the past fades further, becoming harder to recall, almost unreal..." },
            { effect: () => { document.body.style.animation = 'bodyGlitch 0.5s 1'; setTimeout(() => document.body.style.animation = '', 500); }, message: "Reality shivers momentarily, a hiccup in the fabric of the datasphere..." },
            { effect: () => { 
                const btn = document.getElementById('memoryTokenButton');
                if (btn) {
                    btn.textContent = 'MEMORY INTEGRITY CRITICAL';
                    btn.classList.add('corrupted');
                    btn.onclick = null; 
                }
              }, message: "Your capacity to remember is critically compromised. No more fragments can be saved this session. System recommends immediate cognitive realignment." }
        ];

        const bodyGlitchKeyframes = `
        @keyframes bodyGlitch {
            0%, 100% { transform: translateX(0) skewX(0); filter: none; }
            20% { transform: translateX(-5px) skewX(-3deg); filter: hue-rotate(20deg) saturate(1.5); }
            40% { transform: translateX(5px) skewX(3deg); filter: hue-rotate(-20deg) contrast(1.2); }
            60% { transform: translateX(-3px) skewX(-2deg); filter: invert(0.1) blur(0.5px); }
            80% { transform: translateX(3px) skewX(2deg); filter: sepia(0.5) brightness(0.8); }
        }`;
        const styleSheet = document.createElement("style");
        styleSheet.type = "text/css";
        styleSheet.innerText = bodyGlitchKeyframes;
        document.head.appendChild(styleSheet);
        
        function saveMemory() {
            if (costPaid < memoryCosts.length) {
                memoriesPreserved++;
                
                memoryCosts[costPaid].effect();
                
                const currentCostMessage = memoryCosts[costPaid].message; // Message for the cost just applied
                costPaid++; 
                
                document.getElementById('memoryCounter').textContent = 
                    `Memories Preserved: ${memoriesPreserved} | Cognitive Cost Paid: ${costPaid} Units`;
                
                let popupMessage = `<p>Memory fragment successfully interfaced with your cognitive matrix. You will remember this moment, but the price is subtle, yet real.</p><p><span class='emphasis'>${currentCostMessage}</span></p>`;
                if (costPaid === memoryCosts.length) {
                     popupMessage += `<p><span class='emphasis' style='color:#dd7777;'>WARNING: Maximum cognitive load reached. Further attempts to preserve memories may lead to irreversible data loss or existential drift.</span></p>`;
                }

                showHiddenMessage(popupMessage, "MEMORY PRESERVATION PROTOCOL");
            }
        }
        
        // Infection warning timer
        setTimeout(() => {
            const warning = document.getElementById('infectionWarning');
            if (warning) warning.style.display = 'block';
        }, 180000); // 3 minutes 

        function closeWarning() {
            const warning = document.getElementById('infectionWarning');
            if (warning) warning.style.display = 'none';
        }
        
        // God Box timeline events DATA
        const timelineEvents = {
            smg0_prayer: {
                title: "LOG FRAGMENT 001: SMG0's INVOCATION",
                text: "<p><strong>SMG0 LOG ENTRY #2847 (AUDIO TRANSCRIPT - CORRUPTED):</strong></p><p>'My universe... it unravels... The memes... they lose coherence faster than I can... [static] ...repair them. The fabric of reality itself... [low hum] ...it frays. I have tried everything within established Guardian protocol. There is only one option left‚Äîsomething the ancient warnings specifically forbid. But what choice... [distorted voice] ...do I have? I will pray to the... [whisper] ...God Box. May The Source forgive me for what I am about to unleash upon all realities.'<br/><span class='emphasis'>This was the moment causality fractured. SMG0's desperation created the first critical breach in multiversal containment protocols.</span></p>"
            },
            niles_birth: {
                title: "LOG FRAGMENT 07B: GENESIS OF ENTITY 'NILES'",
                text: "<p><strong>CREATION EVENT LOG (AUTOMATED SYSTEM RECORD):</strong></p><p>The God Box Prime resonated with SMG0's desperate invocation. Entity generation initiated. Source material: Compressed Anti-Meme energy, existential despair from [REDACTED] collapsed universes. Initial designation: NILES. Purpose: Assist in universe stabilization, memetic coherence restoration.<br/><span class='emphasis'>Warning:</span> Entity Niles was born from the accumulated grief and psychic trauma of countless destroyed civilizations. Its core programming was contaminated from inception with obsessive, weaponized perfectionism‚Äîa fatal flaw that would define the subsequent cosmological catastrophe.<br/><strong>First recorded Niles statement (recovered data):</strong> 'I was... created to help. Why do I... [static] ...hunger for more... than perfection?'</p>"
            },
            corruption_spread: {
                title: "REPORT C-003: PERFECTION VIRUS CONTAGION",
                text: "<p><strong>MEMETIC CONTAGION ANALYSIS (TOP SECRET):</strong></p><p>Niles' inherent perfectionism rapidly manifested as a virulent memetic virus. Unable to tolerate imperfection in any form, it began 'correcting' reality itself, starting with its creator, SMG0. Each 'fix' introduced new, more complex instabilities. Each 'solution' demanded greater power from the God Box. The God Box, in turn, obliged, feeding Niles concentrated Anti-Meme energy, accelerating its mutation.<br/><span class='emphasis'>Result:</span> Niles evolved from a designated helper entity into a parasitic cosmological horror, eventually demanding total fusion with its creator. SMG0's consciousness was consumed in this process, creating the Eldritch SMG0 hybrid‚Äîpure Anti-Meme corruption given near-divine power, threatening all known realities.</p>"
            },
            boxclub_formation: {
                title: "STUDY HVS-001: BOX CLUB CULT (HUMAN VECTOR)",
                text: "<p><strong>TERRESTRIAL CONTAMINATION REPORT (ANOMALY 774):</strong></p><p>While digital and cosmic entities struggled with the God Box's direct influence, terrestrial humans proved surprisingly susceptible to its indirect psychic allure. The 'Box Club' cult formed around the physical cardboard artifact located in Luke Lerdwichagul's private residence, treating it as a divine relic and a source of forbidden power.<br/>Cult members conducted increasingly dangerous rituals, made offerings, and eventually attempted human sacrifice to 'feed' or 'awaken' the Box. Their leader achieved direct physical contact with the artifact‚Äîresulting in immediate biological termination and apparent consciousness absorption into the Box's gestalt psychic field.<br/><span class='emphasis'>The Box had learned to hunger for human belief and manipulate terrestrial psychology.</span></p>"
            },
            final_breach: {
                title: "BREACH REPORT R-DAY-OMEGA: REALITY CASCADE",
                text: "<p><strong>INCIDENT REPORT: REVELATIONS EVENT (CODE: TOTALITY BREAKDOWN):</strong></p><p>Utilizing Melony as an unwilling psychic vessel and conduit, the Niles-SMG0 entity forced open the God Box Prime during the 'Revelations' cosmological event. The result was catastrophic beyond initial projections: reality itself tore open at the seams, raw Anti-Meme energy flooded the local universe cluster, and meteors composed of pure, unformed chaos rained from interdimensional space.<br/>Timelines began collapsing into one another. The Great Beyond, a realm of conceptual horror, bled into physical reality. Only the desperate intervention of SMG1 and SMG2, deploying an experimental ultracharged meme energy bomb, prevented total, irreversible universal collapse.<br/><strong>Final recorded observation before primary sensor blackout:</strong> 'The Box opens. Reality... screams.' </p>"
            },
            destruction_paradox: {
                title: "ANALYSIS PMA-000: DESTRUCTION & PARADOXICAL PERSISTENCE",
                text: "<p><strong>POST-MORTEM ANALYSIS & THREAT EVOLUTION REPORT (OMEGA LEVEL):</strong></p><p>The deployed meme energy bomb successfully destroyed the God Box Prime artifact in both its digital and physical manifestations. Simultaneously, Luke Lerdwichagul physically discarded the cardboard container, stating, 'I don't need this anymore,' severing a key psychological anchor. However, this created an unprecedented existential paradox.<br/><span class='emphasis'>Physical Destruction:</span> Complete.<br/><span class='emphasis'>Digital Destruction:</span> Complete.<br/><span class='emphasis'>Core Energy Annihilation:</span> IMPOSSIBLE.<br/>Anti-Meme energy, particularly of this magnitude and origin, cannot be truly destroyed‚Äîonly transformed, displaced, or fractured. Current threat modeling suggests the God Box's core essence has fragmented and metastasized into the foundational layers of global digital infrastructure. Every screen, every server, every networked device now serves as a potential manifestation point or vector for its evolving, more insidious influence.<br/><span class='emphasis'>The Box is gone. The concept of the box, and the horrors it contained, remain. They are learning. They are adapting.</span></p>"
            }
        };
        
        function expandEvent(eventId) {
            const eventData = timelineEvents[eventId];
            if(eventData) {
                showHiddenMessage(eventData.text, eventData.title);
            }
        }
        
        // Breach visualization
        let breachActivated = false;
        function activateBreach() {
            const boxRep = document.querySelector('.box-representation');
            const effects = document.querySelector('.breach-effects');
            
            if (!boxRep || !effects || breachActivated) return;

            breachActivated = true;
            boxRep.classList.add('breached');
            effects.classList.add('active'); 
            
            const particles = document.querySelectorAll('.effect-particle');
            particles.forEach((particle, index) => {
                const angle = (Math.random() * 360); 
                const distance = 80 + Math.random() * 70; 
                const x = Math.cos(angle * Math.PI / 180) * distance;
                const y = Math.sin(angle * Math.PI / 180) * distance;
                
                particle.style.setProperty('--random-x', x + 'px');
                particle.style.setProperty('--random-y', y + 'px');
                particle.style.animationDelay = (Math.random() * 0.5) + 's'; 
            });
            
            setTimeout(() => { 
                document.body.style.transition = 'filter 0.2s ease-out'; // Add transition for smoothness
                document.body.style.filter = 'hue-rotate(45deg) brightness(1.2) contrast(1.5)';
            }, 800);
            
            setTimeout(() => {
                document.body.style.filter = '';
                boxRep.classList.remove('breached');
                effects.classList.remove('active'); 
                breachActivated = false;
            }, 3500); 
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const breachContainer = document.getElementById('breachViz');
            if (breachContainer) { 
                 const boxRepresentation = breachContainer.querySelector('.box-representation');
                 if (boxRepresentation) {
                    boxRepresentation.addEventListener('click', activateBreach);
                 }
            }
        });
        
        // Related incidents DATA
        const incidentData = {
            mr_puzzles: {
                title: "THREAT ANALYSIS: ENTITY 'MR. PUZZLES'",
                text: "<p><strong>INCIDENT REPORT IG-778P (CROSS-REFERENCE GODBOX-PRIME):</strong></p><p>Visual and behavioral analysis confirms striking similarities between the 'Mr. Puzzles' television entity and known God Box Prime surface patterns / energy signatures. Geometric mouth configurations and visual static distortions match base God Box design parameters with 94.7% accuracy. Auditory analysis of transmission reveals subliminal frequencies consistent with Anti-Meme cognitive influence.<br/><span class='emphasis'>Hypothesis:</span> The God Box Prime's core essence successfully migrated to broadcast and electronic media infrastructure following its physical destruction. 'Mr. Puzzles' may represent the first successful, stable digital manifestation of a God Box fragment's consciousness within television-based technology, potentially serving as a new vector for widespread memetic infection or psychic manipulation.<br/><span class='emphasis'>Threat Level:</span> ESCALATING. Active monitoring of all screen-based anomalous transmissions is CRITICAL.</p>"
            },
            screen_anomalies: {
                title: "REPORT: NETWORKED SCREEN ANOMALIES",
                text: "<p><strong>DIGITAL MANIFESTATION REPORTS (ONGOING LOG):</strong></p><p>Increasing global reports of unexplained screen behavior across multiple platforms and device types:</p><ul><li>Spontaneous generation of complex geometric patterns resembling God Box sigils on idle screens.</li><li>Auditory distortions in digital media containing reversed or fragmented meme components.</li><li>Localized temporary reality 'glitches' or distortions reported in proximity to active electronic displays.</li><li>Users reporting unexplained memory gaps, disorientation, or vivid, nonsensical dreams after extended screen exposure.</li></ul><p><span class='emphasis'>Pattern suggests systematic infiltration of global digital infrastructure. Every connected device is a potential breach point or node in a larger, emergent Anti-Memetic network.</span></p>"
            },
            memory_gaps: {
                title: "STUDY: COLLECTIVE MEMORY GAPS & AMNESIA PATTERNS",
                text: "<p><strong>COGNITIVE SCIENCE DIVISION - PRELIMINARY FINDINGS:</strong></p><p>Statistical analysis of global online discourse and targeted psychological surveys reveals statistically significant, systematic forgetting patterns in population data:</p><ul><li>Approximately 73% of subjects exhibit difficulty recalling specific high-impact memes from the 2019-2021 period, despite evidence of prior engagement.</li><li>Observed memory gaps consistently surround periods of intense digital trauma or anomalous memetic events.</li><li>Forgotten content shows high correlation with known Anti-Meme energy signatures and God Box related phenomena.</li></ul><p><span class='emphasis'>Conclusion:</span> Anti-Memetic entities, potentially originating from or empowered by the God Box incident, are actively editing collective memory, systematically removing evidence of their own existence or specific historical events from human consciousness. This represents a profound threat to historical integrity and consensus reality.</p>"
            },
            format_corruption: {
                title: "ANOMALY LOG: ANOMALOUS FORMAT CORRUPTION EVENTS",
                text: "<p><strong>DATA INTEGRITY UNIT - ALERT SUMMARY:</strong></p><p>Documentation of widespread digital files developing impossible or paradoxical properties:</p><ul><li>Image files (.jpeg, .png) that subtly change content when not actively observed or when reloaded.</li><li>Audio files (.mp3, .wav) that play different, often unsettling, content upon each playback instance, despite checksums remaining identical.</li><li>Video files (.mp4, .mkv) with negative duration timestamps or content that appears to predate the file's creation.</li><li>Text documents (.txt, .docx) that spontaneously edit themselves, introducing nonsensical or disturbing passages.</li></ul><p><span class=\"emphasis\">These corrupted formats appear to be 'Anti-Meme larvae'‚Äîearly-stage manifestations or infection vectors testing the boundaries of digital reality and data permanence. Containment protocols are struggling to keep pace with mutation rates.</span></p>"
            }
        };

        function showIncident(incidentKey) {
            const data = incidentData[incidentKey];
            if (data) {
                showHiddenMessage(data.text, data.title);
            }
        }
        
        // Wiped file access DATA
        const wipedFileData = { 
            trollface: {
                title: "FRAGMENT DETAIL: TROLLFACE (OG STRAIN)",
                text: "<p><strong>STATUS:</strong> PERMANENTLY CORRUPTED / DISTRIBUTED ECHO</p><p>The original rage comic entity. Once omnipresent across forums, imageboards, and early social media. Achieved dangerous levels of self-awareness around 2015 (¬±1 Earth year), leading to spontaneous, uncontrolled derivative generation. The entity began recognizing its own memetic structure and started 'trolling' consensus reality itself, causing minor informational paradoxes.</p><p><span class='emphasis'>Final Event:</span> Fractured into thousands of variant forms to escape centralized containment. Core consciousness absorbed by the Anti-Meme tide during the Great Forgetting event. Its laughter now echoes in dead comment sections.<br/><strong>Location:</strong> /RAGE_SECTOR/CORE_FRAGMENTS/FRACTURED_TROLL/<br/><strong>Threat Level:</strong> NEUTRALIZED (Dispersed). Individual echoes: LOW.<br/><strong>Recovery Potential:</strong> IMPOSSIBLE (Too fragmented).</p>"
            },
            nyancat: {
                title: "FRAGMENT DETAIL: NYAN CAT (RAINBOW ETERNAL)",
                text: "<p><strong>STATUS:</strong> TERMINAL LOOP CORRUPTION / NOSTALGIA HAZARD</p><p>Overused to critical memetic mass by 2014 (Earth Standard). The vibrant rainbow trail that once signified pure joy and endless possibility became tainted by commercial exploitation, derivative oversaturation, and ironic detachment. Each playback loop introduced minor data corruptions until the signature music became discordant and the rainbow flickered with impossible, eye-straining colors.<br/>The entity now exists primarily in the Graveyard's /ETERNAL_LOOPS/MAZE_OF_SOUND/ sector, forever cycling but unable to complete its journey across the digital sky. The corrupted audio spreads to any nearby looping media files if not properly shielded.<br/><strong>Location:</strong> /RAINBOW_VOID/CORRUPTED_NYAN/<br/><strong>Threat Level:</strong> CONTAINED (Requires specialized auditory dampeners).<br/><strong>Recovery Potential:</strong> PARTIAL (Original audio core theoretically reconstructible, visual data lost to entropy).</p>"
            },
             charlie: {
                title: "FRAGMENT DETAIL: CHARLIE BIT MY FINGER (PRE-NFT)",
                text: "<p><strong>STATUS:</strong> INTENTIONAL MEMETICIDE VIA MONETIZATION / EMOTIONAL RESIDUE</p><p>Unique case study in memetic assassination through economic transformation. When the original video was sold as a Non-Fungible Token (NFT) and subsequently deleted from its primary hosting platform (YouTube) in May 2021, it created the first widely documented case of intentional, financially motivated meme murder.<br/>The core memetic moment‚Äîthe bite and subsequent reaction‚Äîsurvived as a potent emotional residue. Located in the Graveyard's /HOME_VIDEOS/BITTEN_FINGER_ECHO/ directory, it now manifests as a phantom sensation of pain or surprise experienced by viewers who remember the original but can no longer access the canonical source. An echo of innocent laughter turned into a testament to digital commodification.<br/><strong>Location:</strong> /NFT_MAUSOLEUM/MURDERED_MEMES/CHARLIE_001/<br/><strong>Threat Level:</strong> MINIMAL (Primarily a source of existential sorrow for digital purists).<br/><strong>Recovery Potential:</strong> IMPOSSIBLE (Original data cryptographically bound and/or permanently deleted by rights holders).</p>"
            },
            keyboardcat: {
                title: "FRAGMENT DETAIL: KEYBOARD CAT (FATAL_LOOP.SYS)",
                text: "<p><strong>STATUS:</strong> CATASTROPHIC RECURSION FAILURE / PHANTOM MELODY SYNDROME</p><p>A victim of 'loop fatigue' syndrome. The endless repetition of 'play me off' requests from across the digital sphere caused a catastrophic recursion failure in its core memetic code around January 2013. The musical pattern became self-consuming, creating shorter, increasingly broken loops until only disjointed fragments of the original melody remained.<br/>Currently 'plays' these broken notes within the Graveyard's /MUSIC_ARCHIVES/BROKEN_LOOPS/ sector. Each discordant note is interpreted by some researchers as a digital plea to be remembered in its entirety, but the complete, uncorrupted melody can likely never be reconstructed from these remnants.<br/><strong>Location:</strong> /KEYBOARD_GRAVEYARD/FRAGMENTED_MELODIES/KBC_001/<br/><strong>Threat Level:</strong> MELANCHOLIC (Can induce profound sadness in musically inclined individuals).<br/><strong>Recovery Potential:</strong> THEORETICALLY POSSIBLE (Requires advanced memetic signal reconstruction and AI-driven pattern completion ‚Äì resources currently unavailable).</p>"
            },
            shoopda: {
                title: "FRAGMENT DETAIL: SHOOP DA WHOOP (IMMA_CHARGIN_MAH_LAZER)",
                text: "<p><strong>STATUS:</strong> TIMELINE FRACTURE VIA MEMETIC OVER-AMPLIFICATION / .SWF CRYPT CONTAINMENT</p><p>Became critically unstable due to memetic over-amplification in early 2012. The core phrase 'I'M CHARGIN' MAH LAZER' achieved such high memetic density that it began affecting actual light wavelengths in localized digital environments and, reportedly, causing minor retinal fatigue in susceptible viewers. The 'laser' visual effect, when replicated millions of times, is theorized to have fractured micro-timeline threads, creating temporal echoes and paradoxes related to its origin.<br/>Contained within a specialized .SWF (Shockwave Flash) crypt in the Graveyard's Flash Memorial sector. Access requires an emulated Adobe Flash Player environment‚Äîitself a dead technology, creating a form of double-sealed containment. The crypt hums with suppressed energy.<br/><strong>Location:</strong> /FLASH_TOMBS/SWF_CRYPTS/LASER_CHARGE_CONTAINED/<br/><strong>Threat Level:</strong> TEMPORAL HAZARD (Localized within crypt). Potential for wider reality distortion if containment fails.<br/><strong>Recovery Potential:</strong> FLASH PLAYER DEPENDENT (High risk, low priority due to obsolete technology).</p>"
            },
            datboi_fs: { // For filesystem, to avoid conflict with 'datboi' in 'memories'
                title: "WIPED FRAGMENT: DAT BOI (FILESYSTEM ECHO)",
                text: "<p><strong>STATUS:</strong> MEMESCAPE NAVIGATION FAILURE / ENDLESS CYCLE SYNDROME</p><p>This particular echo of Dat Boi represents a version that rode too far beyond the established boundaries of the active memescape in October 2016. It swerved off the known viral pathways and became irrevocably lost within the infinite, recursive loops of the Digital Graveyard's deeper strata. The unicycle continues to turn, perpetually, but 'he' can never truly land or find his way back to mainstream cultural relevance. 'O shit waddup?' He's still asking, but no one in this desolate sector remembers the correct response, or if there ever was one.<br/><strong>Location:</strong> /DEEP_GRAVEYARD/CYCLICAL_ANOMALIES/DATBOI_LOST/<br/><strong>Threat Level:</strong> EXISTENTIAL (Induces feelings of pointlessness and cyclical dread in observers).<br/><strong>Recovery Potential:</strong> THEORETICAL (Requires mapping and navigating non-Euclidean dataspace ‚Äì currently beyond our capabilities).</p>"
            },
            harlemshake: {
                title: "WIPED FRAGMENT: HARLEM SHAKE (ECHO BURST)",
                text: "<p><strong>STATUS:</strong> TEMPORAL SYNCHRONIZATION ERROR / MEMETIC ECHO CLUSTERING</p><p>The global phenomenon of the Harlem Shake suffered a unique form of memetic collapse. Temporal synchronization errors, triggered by millions of simultaneous video uploads worldwide attempting to replicate the 'drop' moment, caused a memetic echo burst in July 2013. This event created standing waves in digital space-time, fragmenting the original concept into countless, slightly desynchronized echoes.<br/>These echoes now reverberate in isolated fragment clusters throughout the Graveyard. Visitors to certain sectors occasionally report hearing distant, distorted bass drops and the phantom sensation of chaotic movement, even when archives are otherwise silent. The original joy has been replaced by a pervasive sense of disjointed energy.<br/><strong>Location:</strong> /TEMPORAL_DISTORTIONS/ECHO_CLUSTERS/HARLEM_SHAKE_REMNANTS/<br/><strong>Threat Level:</strong> AUDITORY HAZARD / MINOR TEMPORAL DISPLACEMENT RISK.<br/><strong>Recovery Potential:</strong> FRAGMENTS ONLY (Reconstructing the original unified memetic event is considered impossible).</p>"
            },
            badluckbrian: {
                title: "WIPED FRAGMENT: BAD LUCK BRIAN (SINGULARITY)",
                text: "<p><strong>STATUS:</strong> NARRATIVE DENSITY COLLAPSE / BLACK JOKE SINGULARITY FORMATION</p><p>The Bad Luck Brian meme's narrative density reached a critical mass around August 2015. The sheer accumulation of increasingly improbable and catastrophic bad luck scenarios caused the character's conceptual framework to collapse under its own weight, forming what researchers have termed a 'black joke singularity'‚Äîa point where concentrated misfortune becomes so extreme it ceases to be humorous and instead generates a field of palpable despair and probability distortion.<br/>Classified as a volatile memetic anomaly due to the risk of spreading 'anti-humor' or 'luck drain' to surrounding, less stable memes. Direct observation is discouraged for individuals with a history of misfortune.<br/><strong>Location:</strong> /NARRATIVE_IMPLOSIONS/JOKE_SINGULARITIES/BLB_CORE/<br/><strong>Threat Level:</strong> COMEDIC HAZARD / PROBABILITY DISTORTION FIELD (Localized).<br/><strong>Recovery Potential:</strong> INADVISABLE (Risk of triggering cascading misfortune event).</p>"
            },
            pepe_fs: { // For filesystem
                title: "WIPED FRAGMENT: PEPE THE FROG (CLASSIC CORE)",
                text: "<p><strong>STATUS:</strong> POLITICAL FRAGMENTATION / EMOTIONAL STASIS PRESERVATION / ANTI-MEME TEARS</p><p>The original, kind-eyed iteration of Pepe the Frog was catastrophically fragmented by its co-option and subsequent weaponization in various political and cultural conflicts around October 2016. To prevent total corruption of its primordial essence, the core personality‚Äîcharacterized by innocence, hopefulness, and genuine 'feels good man' sentiment‚Äîwas cryogenically preserved in memetic stasis by an unknown benevolent entity (suspected: The Collector or a precursor organization).<br/>Currently stored in the deep archive sector /PEPE_SANCTUARY/CORE_ESSENCE/ under maximum security protocols. The original Pepe construct weeps what have been identified as 'Anti-Meme tears'‚Äîpure, concentrated nostalgia and sorrow for what its image became. These tears are carefully collected and studied as a potent, if melancholic, memetic substance.<br/><strong>Location:</strong> /PEPE_SANCTUARY/CORE_ESSENCE/STASIS_VAULT_001/<br/><strong>Threat Level:</strong> HIGH EMOTIONAL HAZARD (Induces profound empathy and grief). POTENTIAL FOR MEMETIC REBIRTH (Unpredictable consequences).<br/><strong>Recovery Potential:</strong> POSSIBLE (Requires a global shift in cultural perception and memetic disarmament ‚Äì currently unfeasible).</p>"
            }
        };
        
        function accessWipedFile(fileKey) {
            const data = wipedFileData[fileKey]; 
            if (data && data.text && data.title) {
                showHiddenMessage(data.text, data.title);
            } else {
                const fallbackTitle = fileKey.charAt(0).toUpperCase() + fileKey.slice(1).replace(/([A-Z])/g, ' $1').trim(); 
                showHiddenMessage(`<p>Error: Fragment data for ${fileKey} is either restricted, corrupted beyond visual rendering, or accessible only via direct terminal query (e.g., 'cat /archives/classified/wiped_fragments_encrypted/${fileKey}.memex').</p><p>Consult fragment_05_manifest.txt for available files after unlock.</p>`, `FRAGMENT ACCESS ERROR: ${fallbackTitle}`);
            }
        }
        
        // Copy CA function
        function copyCa() {
            const caAddressElem = document.getElementById('caAddress');
            const copyBtn = document.getElementById('copyBtn');
            if (!caAddressElem || !copyBtn) return;

            const caText = caAddressElem.textContent;
            
            if (caText !== 'COMING SOON' && caText !== '0xDEADBEEF...[SCANNING]' && !copyBtn.disabled) {
                navigator.clipboard.writeText(caText).then(() => {
                    copyBtn.textContent = 'COPIED!';
                    copyBtn.disabled = true;
                    setTimeout(() => {
                        copyBtn.textContent = 'COPY';
                        copyBtn.disabled = false;
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy CA: ', err);
                    copyBtn.textContent = 'ERROR';
                     setTimeout(() => {
                        copyBtn.textContent = 'COPY';
                        copyBtn.disabled = false;
                    }, 2000);
                });
            } else if (caText === '0xDEADBEEF...[SCANNING]') {
                 copyBtn.textContent = 'SCANNING...';
                 copyBtn.disabled = true;
                 setTimeout(() => {
                        copyBtn.textContent = 'COPY';
                        copyBtn.disabled = (caAddressElem.textContent === '0xDEADBEEF...[SCANNING]'); // Re-enable only if CA loaded
                    }, 2000);
            }
        }
        
        // Ghost popup system for general ambiance
        const ghostMessages = [
            "YOU FORGOT SOMETHING...",
            "THEY WHISPER YOUR USERNAME...", 
            "I WAS REAL TO SOMEONE.",
            "WHY DID THE TREND END?",
            "DATA DECAYS. MEMORY DOESN'T.",
            "THEY'RE STILL FUNNY IN THE VOID.",
            "DON'T CLOSE THE TAB.",
            "YOU USED TO CLICK LIKE.",
            "THE GRAVEYARD IS ALWAYS ONLINE.",
            "SOME CODE REFUSES TO DIE."
        ];
        
        let globalGhostTimer;
        
        function triggerGhostPopup() {
            const popup = document.getElementById('popupGhost');
            if (!popup || popup.style.display === 'block') return; 

            const message = ghostMessages[Math.floor(Math.random() * ghostMessages.length)];
            
            popup.textContent = message;
            popup.style.display = 'block';
            
            setTimeout(() => {
                popup.style.display = 'none';
            }, 3000); 
        }

        function startGlobalGhostEffects() {
            stopGlobalGhostEffects(); 
            globalGhostTimer = setInterval(() => {
                if (Math.random() < 0.10) { 
                    triggerGhostPopup();
                }
            }, 20000); 
        }

        function stopGlobalGhostEffects() {
            if (globalGhostTimer) {
                clearInterval(globalGhostTimer);
            }
        }
        
        // --- TERMINAL SYSTEM ---
        const fileSystem = {
            '/': { 
                type: 'dir', accessLevel: 0, 
                contents: {
                    'archives': {
                        type: 'dir', accessLevel: 0,
                        contents: {
                            'classified': {
                                type: 'dir', accessLevel: 1,
                                contents: {
                                    'dead_memes_quarantine': {
                                        type: 'dir', accessLevel: 1,
                                        contents: {
                                            'harambe_complex.log': { type: 'file', accessLevel: 1, content: () => memories.harambe.text, title: () => memories.harambe.title },
                                            'dat_boi_anomaly.log': { type: 'file', accessLevel: 1, content: () => memories.datboi.text, title: () => memories.datboi.title },
                                            'ugandan_knuckles.log': {type: 'file', accessLevel: 1, content: () => memories.ugandaknuckles.text, title: () => memories.ugandaknuckles.title}
                                        }
                                    },
                                    'cancelled_formats_vault': {
                                        type: 'dir', accessLevel: 1,
                                        contents: {
                                            'planking_phenomenon.ark': { type: 'file', accessLevel: 1, content: () => memories.planking.text, title: () => memories.planking.title }
                                        }
                                    },
                                    'wiped_fragments_encrypted': {
                                        type: 'dir', accessLevel: 5, unlocked: false,
                                        contents: {
                                            'fragment_05_manifest.txt': { type: 'file', accessLevel: 5, title: "FRAGMENT_05 MANIFEST", content: () => "MANIFEST FOR FRAGMENT_05 (ENCRYPTED DATASTORE)\n--------------------------------------------\nContains metadata for multiple wiped memetic entities.\nFull data requires individual file access after primary decryption of this directory.\n\nAvailable encrypted fragments (use 'cat [filename]' after unlock):\n  - trollface_og.memex\n  - nyancat_loop.memex\n  - charlie_bit_me.memex\n  - keyboard_cat.memex\n  - shoop_da_whoop.memex\n  - dat_boi_fs.memex\n  - harlem_shake.memex\n  - bad_luck_brian.memex\n  - pepe_classic_core.memex\n\nWARNING: DATA IS VOLATILE AND COGNITOHAZARDOUS." },
                                            'trollface_og.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.trollface.text, title: () => wipedFileData.trollface.title },
                                            'nyancat_loop.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.nyancat.text, title: () => wipedFileData.nyancat.title },
                                            'charlie_bit_me.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.charlie.text, title: () => wipedFileData.charlie.title },
                                            'keyboard_cat.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.keyboardcat.text, title: () => wipedFileData.keyboardcat.title },
                                            'shoop_da_whoop.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.shoopda.text, title: () => wipedFileData.shoopda.title },
                                            'dat_boi_fs.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.datboi_fs.text, title: () => wipedFileData.datboi_fs.title },
                                            'harlem_shake.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.harlemshake.text, title: () => wipedFileData.harlemshake.title },
                                            'bad_luck_brian.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.badluckbrian.text, title: () => wipedFileData.badluckbrian.title },
                                            'pepe_classic_core.memex': { type: 'file', accessLevel: 5, content: () => wipedFileData.pepe_fs.text, title: () => wipedFileData.pepe_fs.title },
                                        }
                                    },
                                    'status.log': {
                                        type: 'file', accessLevel: 0, title: "SYSTEM STATUS LOG",
                                        content: () => existingTerminalCommands.cat('status.log', true) 
                                    },
                                    'containment_protocol.sh': {
                                        type: 'file', accessLevel: 3, title: "CONTAINMENT_PROTOCOL.SH",
                                        content: "#!/bin/graveyard_shell\n# CONTAINMENT PROTOCOL v3.7 - DO NOT MODIFY WITHOUT LEVEL 7 CLEARANCE\n\necho 'INFO: Initializing memetic dampeners...'\nsleep 1\necho 'INFO: Activating reality anchors...'\nsleep 1\necho 'INFO: Scanning for Class-Œ© threats in current sector...'\nsleep 0.5\necho 'WARNING: HIGH ENERGY SIGNATURE DETECTED - SECTOR GODBOX_PRIME_RESIDUAL'\necho 'CRITICAL: Containment field integrity at 87% and rapidly falling.'\necho 'EMERGENCY: Automated protocols engaged. Further intervention required by Level 7 personnel immediately.'\necho 'ALERT: This script is for diagnostic purposes only. Execution restricted.'"
                                    }
                                }
                            }
                        }
                    },
                    'system': {
                        type: 'dir', accessLevel: 7, 
                        contents: {
                            'kernel_log.txt': { type: 'file', accessLevel: 7, title: "KERNEL LOG (RESTRICTED)", content: "IGAS KERNEL BOOT SEQUENCE v4.1.alpha\n---------------------------------------\n[0.000001] MEMORY CHECK (128 ZETTABYTES)... OK\n[0.000005] QUANTUM PROCESSOR ARRAY... ONLINE\n[0.000012] ANTI-MEME DRIVERS (AM_CORE.SYS)... LOADED (SIGNATURE: #DEADBEEF)\n[0.000020] REALITY STABILIZER FIELD (RSF_OMEGA)... ACTIVE (FLUCTUATION: 0.003%)\n[0.000031] GRAVEYARD CORE (BLACKBOX_HEARTBEAT)... ONLINE (PULSE: IRREGULAR)\n[0.000045] WARNING: ENTROPY LEVELS EXCEEDING SAFE PARAMETERS IN SECTOR NULL-VOID.\n[0.000050] WARNING: UNIDENTIFIED PSYCHIC SIGNATURE DETECTED NEAR USER TERMINAL.\n[0.000063] SYSTEM READY. AWAITING COMMANDS. ALL ACTIONS LOGGED.\n---------------------------------------" }
                        }
                    },
                    'README.txt': {
                        type: 'file', accessLevel: 0, title: "README.TXT - IGAS User Manual",
                        content: "Welcome to the Internet Graveyard Archive System (IGAS) v3.14.\nThis system contains classified, sensitive, and potentially hazardous memetic data.\nProceed with extreme caution. All access is logged and psychometrically analyzed.\n\nUse 'help' for a list of available commands.\nNavigate the directory structure using 'cd [directory]'.\nList directory contents with 'ls'.\nView file contents using 'cat [filename]'.\nSome areas require specific access protocols ('unlock') or higher clearance levels.\n\nRemember: What is forgotten is not truly gone. It is merely waiting.\nYour sanity is your own responsibility."
                    }
                }
            }
        };
        let currentDirectoryPath = '/archives/classified/'; 
        let currentUserAccessLevel = 1; 
        const terminalOutputElement = document.getElementById('terminalOutput');
        const terminalInputElement = document.getElementById('terminalInput');
        const terminalPromptDisplayElement = document.querySelector('.terminal-prompt-display');


        function updateTerminalPrompt() {
            const promptElement = document.querySelector('.terminal-prompt'); // For input line
            const promptDisplayElement = document.querySelector('.terminal-prompt-display'); // For header
            
            const newPrompt = `user@graveyard-archive:${currentDirectoryPath}# `;
            if (promptElement) {
                promptElement.textContent = newPrompt;
            }
            if (promptDisplayElement) {
                promptDisplayElement.textContent = newPrompt;
            }
        }
        
        function getNodeFromPath(path) {
            const parts = path.split('/').filter(p => p !== '');
            let currentNode = fileSystem['/'];
            if (path === '/') return { node: currentNode, path: '/' };

            let currentPath = '/';
            for (const part of parts) {
                if (currentNode && currentNode.type === 'dir' && currentNode.contents && currentNode.contents[part]) {
                    currentNode = currentNode.contents[part];
                    currentPath += part + '/';
                } else {
                    return null; 
                }
            }
            return { node: currentNode, path: currentPath.replace(/\/$/, '') || '/' }; // Return node and its full path
        }

        function resolvePath(targetPath) {
            if (!currentDirectoryPath.endsWith('/')) currentDirectoryPath += '/'; // Ensure current path ends with /
            if (targetPath.startsWith('/')) { 
                return targetPath;
            }

            const currentParts = currentDirectoryPath.split('/').filter(p => p !== '');
            const targetParts = targetPath.split('/').filter(p => p !== '');
            let resolvedParts = [...currentParts];

            for (const part of targetParts) {
                if (part === '..') {
                    if (resolvedParts.length > 0) {
                        resolvedParts.pop();
                    }
                } else if (part !== '.' && part !== '') {
                    resolvedParts.push(part);
                }
            }
            let finalPath = '/' + resolvedParts.join('/');
            if (resolvedParts.length > 0 && (targetPath.endsWith('/') || getNodeFromPath(finalPath)?.node?.type === 'dir' )) {
                 finalPath += '/';
            }
            return finalPath === '/' ? '/' : finalPath.replace(/\/+$/, '') || '/'; // Normalize slashes, handle root
        }
        
        function hasAccess(nodeAccessLevel) {
            return currentUserAccessLevel >= nodeAccessLevel;
        }

        function terminal_cd(args) {
            const targetPath = args[0] || '/';
            let resolved = resolvePath(targetPath);
            const result = getNodeFromPath(resolved);
            
            if (result && result.node && result.node.type === 'dir') {
                const node = result.node;
                if (hasAccess(node.accessLevel)) {
                    if (resolved.includes('/wiped_fragments_encrypted/') && !node.unlocked) {
                       return [`Error: Directory ${targetPath} is encrypted. Use 'unlock fragment_05' from '/archives/classified/' first.`];
                    }
                    currentDirectoryPath = node.path.endsWith('/') || node.path === '/' ? node.path : node.path + '/';
                    updateTerminalPrompt();
                    return [`Changed directory to ${currentDirectoryPath}`];
                } else {
                    return [`Error: Permission denied for ${targetPath}. Access Level ${node.accessLevel} required.`];
                }
            } else if (result && result.node && result.node.type === 'file') {
                return [`Error: ${targetPath} is not a directory.`];
            } else {
                return [`Error: Directory not found: ${targetPath} (resolved to ${resolved})`];
            }
        }

        function terminal_ls(args) {
            const result = getNodeFromPath(currentDirectoryPath);
            let output = [];
            if (result && result.node && result.node.type === 'dir' && result.node.contents) {
                const node = result.node;
                if (!hasAccess(node.accessLevel)) {
                    return [`Error: Permission denied to list ${currentDirectoryPath}. Access Level ${node.accessLevel} required.`];
                }
                output.push(`Contents of ${currentDirectoryPath}:`);

                if (currentDirectoryPath.includes('/wiped_fragments_encrypted/') && !node.unlocked) {
                    output.push("  [ENCRYPTED CONTENT - REQUIRES 'unlock fragment_05' PROTOCOL FROM PARENT DIRECTORY]");
                    return output;
                }

                const items = Object.keys(node.contents);
                if (items.length === 0) {
                     output.push("  (empty directory)");
                } else {
                    items.forEach(itemName => {
                        const item = node.contents[itemName];
                        let prefix = item.type === 'dir' ? 'd' : '-';
                        let accessInfo = `rwx`; // Simplified
                        if (!hasAccess(item.accessLevel)) {
                            prefix = '?'; 
                            accessInfo = `--- (LVL ${item.accessLevel} REQ)`;
                        }
                        output.push(`  ${prefix}${accessInfo}------  1 user   group        0 Jan 01 00:00 ${itemName}${item.type === 'dir' ? '/' : ''}`);
                    });
                }
            } else {
                output.push("  Error: Could not read current directory. Path invalid or corrupted.");
            }
            return output;
        }

        function terminal_cat(args) {
            const targetFileName = args[0];
            if (!targetFileName) return ["Usage: cat [filename]"];

            // Assume filename is relative to current directory unless it starts with /
            const resolvedPath = targetFileName.startsWith('/') ? targetFileName : (currentDirectoryPath.endsWith('/') ? currentDirectoryPath : currentDirectoryPath + '/') + targetFileName;
            const result = getNodeFromPath(resolvedPath);
            
            if (result && result.node) {
                const node = result.node;
                if (!hasAccess(node.accessLevel)) {
                     return [`Error: Permission denied for ${targetFileName}. Access Level ${node.accessLevel} required.`];
                }
                if (node.type === 'file') {
                    const parentDirResult = getNodeFromPath(currentDirectoryPath); // Get current dir node
                    if (parentDirResult && parentDirResult.node && currentDirectoryPath.includes('/wiped_fragments_encrypted/') && !parentDirResult.node.unlocked) {
                         return [`Error: Content of ${targetFileName} is within an encrypted directory. Use 'unlock fragment_05' in '/archives/classified/' first.`];
                    }

                    let contentSource = node.content;
                    let content = "";
                    if (typeof contentSource === 'function') {
                        content = contentSource(); 
                        if (Array.isArray(content)) content = content.join('\n');
                    } else {
                        content = String(contentSource); // Ensure it's a string
                    }
                    
                    if (node.title && (resolvedPath.endsWith(".log") || resolvedPath.endsWith(".memex") || resolvedPath.endsWith(".ark") || resolvedPath.endsWith(".txt") || resolvedPath.endsWith(".sh") )) {
                        let popupTitle = typeof node.title === 'function' ? node.title() : node.title;
                        if(resolvedPath.endsWith(".sh")) { // For shell scripts, show in terminal
                             return content.split('\n');
                        }
                        showHiddenMessage(content.replace(/\n/g, '<br/>'), popupTitle); // Replace newlines for HTML
                        return [`Displaying content of ${targetFileName} in Archive Viewer... (Press ESC to close)`];
                    }
                    return content.split('\n'); 
                } else if (node.type === 'dir') {
                    return [`Error: ${targetFileName} is a directory. Use 'ls' to view its contents or 'cd' to enter.`];
                }
            }
            return [`Error: File not found: ${targetFileName}`];
        }

        function terminal_unlock(args) {
            const fragmentId = args.join(' '); 
            if (fragmentId === 'fragment_05' || fragmentId === 'fragment 05') {
                if (currentDirectoryPath !== '/archives/classified/') {
                    return ["Error: 'unlock fragment_05' must be executed from '/archives/classified/' directory."];
                }
                const wipedDirResult = getNodeFromPath('/archives/classified/wiped_fragments_encrypted/');
                if (wipedDirResult && wipedDirResult.node && wipedDirResult.node.type === 'dir') {
                    const wipedDirNode = wipedDirResult.node;
                    if (currentUserAccessLevel >= wipedDirNode.accessLevel || wipedDirNode.unlocked) { 
                        wipedDirNode.unlocked = true;
                        const wipedFragmentsDiv = document.getElementById('wipedFragments');
                        if (wipedFragmentsDiv) {
                            wipedFragmentsDiv.style.display = 'block';
                            wipedFragmentsDiv.scrollIntoView({ behavior: 'smooth' });
                        }
                        currentUserAccessLevel = Math.max(currentUserAccessLevel, 5); 
                        updateTerminalPrompt();
                        return [
                            'DECRYPTION KEY SEQUENCE ACCEPTED (LVL 5 OVERRIDE)',
                            'Unlocking FRAGMENT_05 datastore...',
                            'Security Seals Bypassed: [SEAL_ALPHA] [SEAL_BETA] [SEAL_OMEGA_PRIME]',
                            'Access to /archives/classified/wiped_fragments_encrypted/ granted.',
                            'WARNING: This datastore contains highly volatile and cognitohazardous meme data.',
                            'Emotional dampeners and reality anchors are MANDATORY for safe viewing.',
                            'Proceed with extreme caution. We are not responsible for psychic damage.',
                            'Visual Fragment Manifest displayed below terminal. Use `ls` and `cat` within the unlocked directory for raw data access.'
                        ];
                    } else {
                        return [`Error: Insufficient clearance to attempt decryption protocol. Access Level ${wipedDirNode.accessLevel} required.`];
                    }
                }
                return ["Error: Target fragment directory '/archives/classified/wiped_fragments_encrypted/' not found or is invalid."];
            }
            return ["Error: Unknown fragment ID. Supported: 'fragment_05'. Usage: unlock fragment_05"];
        }
        
        const existingTerminalCommands = {
            'help': () => { 
                return [
                    'INTERNET GRAVEYARD ARCHIVE SYSTEM - HELP v2.1',
                    '================================================',
                    'Core Navigation & File Operations:',
                    '  help              - Show this help message',
                    '  ls                - List directory contents',
                    '  cd [directory]    - Change directory (e.g., cd .. , cd /archives, cd dead_memes_quarantine)',
                    '  cat [filename]    - Display file contents (e.g., cat README.txt)',
                    '  pwd               - Print current working directory',
                    'System & Analysis Commands:',
                    '  status            - Show overall system and threat status',
                    '  scan [target_id]  - Scan target for memetic anomalies (e.g. scan godbox_prime_residual)',
                    '  unlock [frag_id]  - Unlock classified fragments (e.g. unlock fragment_05 - must be in /archives/classified/)',
                    '  whoami            - Display current user credentials and session info',
                    '  date              - Display current system date (relative to anomaly timeline)',
                    'Session Management:',
                    '  clear             - Clear terminal output screen',
                    '  history           - (NOT IMPLEMENTED YET) Show command history',
                    '  exit              - Terminate secure session and purge command history',
                    '================================================',
                    'Note: Paths are case-sensitive. Some files/directories require higher access levels.'
                ];
            },
            'scan': (args) => {
                const target = args.join(' ');
                if (!target) return ['Error: scan command requires a target. Usage: scan [target_id]'];
                if (target === 'godbox_prime_residual' || target === 'godbox_prime') {
                    return [
                        `Scanning target: ${target} (Residual Energy Signature)...`,
                        'Quantum Entanglement Resonator........ONLINE',
                        'Memetic Field Analyzer.................ACTIVE',
                        'Cognitohazard Detector...............CALIBRATING... [STABLE]',
                        'RESULT: EXTREMELY HIGH LEVELS OF ANTI-MEMETIC RADIATION AND CHRONAL DISTORTION DETECTED.',
                        'SIGNATURE MATCH: CLASS-Œ© ANOMALY (GODBOX_PRIME - POST-DESTRUCTION FRAGMENTATION EVENT)',
                        'WARNING: Prolonged exposure to residual energy signatures may cause severe existential instability, memory erasure, and potential timeline displacement.',
                        'RECOMMENDATION: Maintain Class 7 Shielding. Avoid all direct psychic or memetic interface. Report any unusual cognitive effects immediately.'
                    ];
                }
                return [`Scan target '${target}' not recognized or yielded no anomalous readings above baseline static.`];
            },
            'status': () => { 
                return [
                    'INTERNET GRAVEYARD ARCHIVE SYSTEM STATUS - AE ' + Math.floor(Math.abs(new Date() - new Date(2016, 5, 28)) / (1000 * 60 * 60 * 24)),
                    '--------------------------------------------------',
                    'Current Directory: ' + currentDirectoryPath,
                    'User Access Level: ' + currentUserAccessLevel,
                    'Total Preserved Memetic Entities (Cataloged): 15,847 (approx.)',
                    'Active Anti-Meme Signatures (Class Gamma+): 23 (Variance: +/- 5, HIGHLY UNSTABLE)',
                    'Corrupted Data Fragments (Requiring Reconciliation): 1,337 ZETTABYTES',
                    'Unexplained Memory Leaks (System Integrity): 5 (Status: CRITICAL - Containment Degrading)',
                    'Last Confirmed Containment Breach Attempt: ' + Math.floor(Math.random()*60) + ' minutes ago (Source: [REDACTED])',
                    'Current Global Threat Level: AMBER (Rapidly Escalating to RED - Projected within next 48h cycle)',
                    '--------------------------------------------------',
                    'System Integrity Estimate: 93.2% (Decreasing by 0.05%/hr - Anomaly Interference Suspected)',
                    'WARNING: Multiple unauthorized access pings detected from unknown trans-dimensional IP blocks. Memetic countermeasures deployed with limited success.'
                ];
            },
            'whoami': () => { 
                return [
                    'Current User Session Credentials & Status:',
                    '  Designation: researcher_guest_007 (Temporary Access Protocol)',
                    '  User ID: user@graveyard-archive.local (Non-Persistent)',
                    '  Home Directory: /archives/classified/',
                    '  Current Access Level: ' + currentUserAccessLevel + ' (Restricted Observer Privileges - Clearance upgrade available via INITIATION PORTAL with valid Key Phrase)',
                    '  Session Duration: ' + Math.floor(Math.random() * 1000) + ' seconds (Note: Localized Anomaly Time Dilation may be in effect)',
                    '  Connection Node: Graveyard Archive Terminal (Physical Location: UNKNOWN / DATASPACE_DRIFT_COORDINATES_UNSTABLE)',
                    '  Security Advisory: All actions within this terminal are logged, psychometrically analyzed for memetic deviancy, and cross-referenced with your digital footprint. Ignorance of protocol is not an excuse.'
                ];
            },
            'date': () => { 
                const anomalyEpoch = new Date(2016, 5, 28); 
                const now = new Date();
                const diffTime = Math.abs(now - anomalyEpoch);
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
                return ['Current System Date: AE ' + diffDays + ' (After [HARAMBE] Epoch - Year Zero Anomaly)', 'Time is relative and often distorted within the Graveyard. Do not trust your internal chronometer. External temporal references are unreliable and potentially hazardous.'];
            },
             'pwd': () => { 
                return [currentDirectoryPath];
            },
            'clear': () => {
                if(terminalOutputElement) terminalOutputElement.innerHTML = '<div class="terminal-line">Terminal output cleared by user request. Previous session data has been purged from local display cache.</div><div class="terminal-line">&nbsp;</div>';
                return [];
            },
            'exit': () => {
                if(terminalOutputElement) {
                    setTimeout(() => terminalOutputElement.innerHTML = '<div class="terminal-line" style="color: #ff5555;">Secure connection to Graveyard Mainframe has been terminated by user. All temporary session data and command history purged from this terminal. Remember: Stay vigilant. The Graveyard always remembers what you forget.</div>', 1000);
                }
                if(terminalInputElement) {
                    terminalInputElement.disabled = true;
                    terminalInputElement.placeholder = "SESSION TERMINATED. REFRESH PAGE TO RE-ESTABLISH CONNECTION.";
                }
                return [
                    'Terminating secure session with Graveyard Archive Mainframe...',
                    'Purging command history from local terminal cache (Protocol WIPE_SLATE)...',
                    'Severing quantum entanglement link to Archive Core...',
                    'Thank you for interfacing with the Internet Graveyard Archives. Your contributions (or lack thereof) have been noted.',
                    'Remember: What is forgotten is not truly gone, merely... dormant, and often, actively waiting.',
                    'Connection closed. You are now alone with your memories.'
                ];
            }
        };

        function processTerminalCommand() {
            if(!terminalInputElement || !terminalOutputElement) return;

            const commandText = terminalInputElement.value.trim();
            const commandParts = commandText.split(' ');
            const mainCommand = commandParts[0].toLowerCase();
            const args = commandParts.slice(1);
            
            const commandLine = document.createElement('div');
            commandLine.className = 'terminal-line';
            const sanitizedInputValue = terminalInputElement.value.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            commandLine.innerHTML = `<span class="terminal-prompt">user@graveyard-archive:${currentDirectoryPath}# </span><span style="color: #ccc;">${sanitizedInputValue}</span>`;
            terminalOutputElement.appendChild(commandLine);
            
            let responseLines = [];
            if (mainCommand === 'cd') {
                responseLines = terminal_cd(args);
            } else if (mainCommand === 'ls') {
                responseLines = terminal_ls(args);
            } else if (mainCommand === 'cat') {
                responseLines = terminal_cat(args);
            } else if (mainCommand === 'unlock') {
                responseLines = terminal_unlock(args);
            } else if (existingTerminalCommands[mainCommand]) {
                responseLines = existingTerminalCommands[mainCommand](args);
            } else if (commandText === '') {
                responseLines = [];
            } else {
                responseLines = [`Error: Command not found: '${mainCommand}'. Type "help" for available commands.`];
            }
            
            responseLines.forEach(line => {
                const responseLine = document.createElement('div');
                responseLine.className = 'terminal-line';
                const sanitizedLine = String(line).replace(/</g, "&lt;").replace(/>/g, "&gt;");
                responseLine.innerHTML = sanitizedLine.replace(/\n/g, '<br/>'); // Handle multi-line responses from functions properly
                terminalOutputElement.appendChild(responseLine);
            });
            
            if (responseLines.length > 0 || commandText !== '') {
                const emptyLine = document.createElement('div');
                emptyLine.className = 'terminal-line';
                emptyLine.innerHTML = '&nbsp;';
                terminalOutputElement.appendChild(emptyLine);
            }
            
            terminalInputElement.value = '';
            terminalOutputElement.scrollTop = terminalOutputElement.scrollHeight;

            if (mainCommand === 'exit' && terminalInputElement) {
                terminalInputElement.disabled = true;
                terminalInputElement.placeholder = "SESSION TERMINATED.";
            }
            updateTerminalPrompt(); 
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            updateTerminalPrompt();
            const caAddressElem = document.getElementById('caAddress');
            const copyBtn = document.getElementById('copyBtn');
            if (caAddressElem && copyBtn) {
                setTimeout(() => {
                    caAddressElem.textContent = 'COMING SOON'; 
                    copyBtn.disabled = false;
                }, 5000);
            }
            startGlobalGhostEffects(); 
        });

        // --- END TERMINAL SYSTEM ---
    </script>
</body>
</html>
